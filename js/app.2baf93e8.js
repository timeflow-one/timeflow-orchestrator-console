(function(e){function t(t){for(var n,l,s=t[0],o=t[1],u=t[2],d=0,f=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/timeflow-orchestrator-console/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"3ed1":function(e,t,a){},"62a1":function(e,t,a){e.exports=a.p+"img/timeflow.0fd2a3a1.svg"},"6b97":function(e,t,a){"use strict";a("c4b2")},"6d66":function(e,t,a){},7704:function(e){e.exports=JSON.parse('{"timeflow":{"roles":{"root":"Владелец","admin":"Администратор","manager":"Менеджер","hr":"HR","analyst":"Аналитик","orchestrator":"Оркестратор"}},"head":{"title":{"404":"Оркестратор Timeflow","login":"Авторизация • Оркестратор Timeflow","instances":"Инстансы • Оркестратор Timeflow","instance":"Инстансы • Оркестратор Timeflow","create_instance":"Добавление инстанса • Оркестратор Timeflow","users":"Пользователи • Оркестратор Timeflow","user":"Пользователи • Оркестратор Timeflow","licenses":"Подписки • Оркестратор Timeflow","license":"Подписки • Оркестратор Timeflow","create_license":"Подписки • Оркестратор Timeflow","bills":"Счета • Оркестратор Timeflow","plans":"Планы • Оркестратор Timeflow","plan":"Планы • Оркестратор Timeflow","create_plan":"Планы • Оркестратор Timeflow"}},"common":{"label":{"page_not_found":"Страница не найдена","currency":{"rub":"руб"},"confirm_close_dialog":"Данные были изменены. Вы действительно хотите покинуть страницу без сохранения?","status":{"enabled":"Активный","disabled":"Неактивный"}},"table":{"label":{"list_empty":"Список пуст","search_input":"Поиск по вхождениям","loading":"Получение списка элементов.."}},"action":{"add":"Создать","input_query":"Введите поисковой запрос","clear_filter":"Сбросить фильтры","return":"Вернуться","ok":"OK","cancel":"Отмена","next":"Далее","back":"Назад","remove":"Удалить","save":"Сохранить","edit":"Изменить","login":"Войти","logout":"Выйти","create":"Создать"},"error":{"required_field":"Обязательное поле","no_spaces":"Поле не может содержать пробельные символы","email_format_invalid":"Неверный формат email","fee_must_more_or_eq_0":"Стоимость должна быть больше или равна нулю"}},"login":{"title":"Авторизация","label":{"login":"Логин","password":"Пароль"},"action":{},"error":{"email_format_invalid":"Неверный формат email","empty_field":"Поле не может быть пустым","no_spaces":"Поле не может содержать пробельные символы"}},"navigation":{"menu":{"instances":"Инстансы","instance":"Инстансы","create_instance":"Инстансы","users":"Пользователи","user":"Пользователи","licenses":"Подписки","license":"Подписки","create_license":"Подписки","bills":"Счета","plans":"Планы","plan":"Планы","create_plan":"Планы"},"action":{}},"pages":{"instances":{"table":{"header":{"0":"#","1":"Название","2":"Лимит сотрудников","3":"Cотрудников создано","4":"Дата создания","5":"Дата истечения подписки","6":"Уведомления"},"need_update_lic":"Требуется расширение подписки"},"action":{"add":"Создать инстанс"}},"instance":{"title":"Профиль инстанса {0}","form":{"label":{"0":"Название инстанса","1":"Хост базы данных","2":"Название базы данных","3":"Имя пользователя базы данных","4":"Пароль пользователя базы данных","5":"Ключ сервиса видеоидентификации","6":"Ключ сервиса геокодирования"}},"label":{"confirm_remove":"Вы действительно хотите удалить инстанс {0}?"},"error":{"400":"Ошибка получения информации об инстансе"}},"create_instance":{"label":{"creating":"Создание инстанса"},"action":{"create":"Создать"},"step":{"0":"Название инстанса","1":"База данных","2":"Конфигурация","3":"Пользователь"},"form":{"label":{"0":"Название инстанса","1":"Хост базы данных","2":"Название базы данных","3":"Имя пользователя базы данных","4":"Пароль пользователя базы данных","5":"Пакет сотрудников","6":"Дата окончания действия","7":"Ключ сервиса видеоидентификации","8":"Ключ сервиса геокодирования","9":"Имя пользователя - владельца инстанса","10":"Email пользователя - владельца инстанса","11":"Пароль пользователя - владельца инстанса"}},"error":{"invalid_vi_key":"Указан неверный ключ к системе видеоидентификации"}},"users":{"table":{"header":{"0":"#","1":"Имя","2":"Email","3":"Инстанс","4":"Роль","5":"Статус","6":"Действия"}},"filter":{"active":{"all":"Все","enabled":"Активные","disabled":"Неактивные"}},"action":{"enter":"Войти","enter_as":"Войти как {0}"}},"user":{"title":"Профиль пользователя {0}","form":{"label":{"0":"Имя пользователя","1":"Email пользователя","2":"Инстанс","3":"Роли"}},"error":{"400":"Ошибка получения информации о пользователе"}},"plans":{"table":{"header":{"0":"#","1":"Название","2":"Код","3":"Лимит сотрудников","4":"Стоимость в месяц","5":"Статус"}},"action":{"add":"Создать план"}},"create_plan":{"label":{"creating":"Создание плана"},"form":{"label":{"0":"Название","1":"Код","2":"Лимит сотрудников","3":"Стоимость в месяц","4":"Валюта"}},"error":{}},"plan":{"title":"Профиль плана {0}","label":{"edit":"Редактирование плана"},"form":{"label":{"0":"Название","1":"Код","2":"Лимит сотрудников","3":"Стоимость в месяц","4":"Валюта"},"placeholder":{"4":"дд.мм.гггг"}}},"licenses":{"table":{"header":{"0":"#","1":"Инстанс","2":"Пакет сотрудников","3":"Дата активации","4":"Дата окончания","5":"Статус","6":"Действия"}},"action":{"add":"Создать подписку","prolong":"Продлить","promised_payment":"Обещанный платеж","give_promise_payment":"Выдать обещанный платеж для подписки #{0}?"}},"create_license":{"label":{"creating":"Создание подписки"},"form":{"label":{"0":"Инстанс","1":"Пакет сотрудников","2":"Дата активации","3":"Длительность использования (дней)","4":"Дата окончания действия"},"placeholder":{"4":"дд.мм.гггг"}},"error":{"already_exist":"Уже существует активная подписка на указанные даты"}},"license":{"title":"Профиль подписки","label":{"edit":"Редактирование подписки"}},"bills":{"table":{"header":{"0":"#","1":"Номер счета","2":"Дата выставления счета","3":"Дата ожидания оплаты","4":"Покупатель","5":"ИНН","6":"КПП","7":"Пакет сотрудников"}},"action":{}}}}')},"974f":function(e,t,a){"use strict";a("d610")},a554:function(e,t,a){e.exports=a.p+"img/timeflow.a7954569.png"},c4b2:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("3ed1");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"fill-height"},[e.hasShowUi?n("v-navigation-drawer",{attrs:{app:"",permanent:!e.$vuetify.breakpoint.mobile,temporary:e.$vuetify.breakpoint.mobile},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-divider"),n("NavigationDrawerUserCard")]},proxy:!0}],null,!1,134953941),model:{value:e.isNavigationDrawerShow,callback:function(t){e.isNavigationDrawerShow=t},expression:"isNavigationDrawerShow"}},[n("img",{staticClass:"ma-4",attrs:{src:a("62a1")}}),n("v-list",e._l(e.menu,(function(t,a){return n("v-list-item",{key:a,attrs:{color:"primary lighten-1",to:t.name}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+t.name)))])],1)],1)})),1)],1):e._e(),e.hasShowUi?n("v-app-bar",{staticClass:"toolbar-border-bottom user-select-none",attrs:{app:"",color:"grey lighten-5",flat:""}},[e.$vuetify.breakpoint.mobile?n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.isNavigationDrawerShow=!e.isNavigationDrawerShow}}}):e._e(),n("v-toolbar-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+e.$route.name)))]),n("v-spacer"),e.isAppbarMenuShow?[1==e.appbarMenu.length?e._l(e.appbarMenu,(function(t,a){return n("v-btn",{key:a,attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!t.action,title:t.title},on:{click:t.action}},[e.$vuetify.breakpoint.mdAndUp?n("span",[e._v(e._s(t.title))]):n("v-icon",[e._v(e._s(t.icon))])],1)})):e.appbarMenu.length>1?[e._v(" ... ")]:e._e()]:e._e()],2):e._e(),n("v-main",{staticClass:"fill-height"},[n("router-view",{staticClass:"fill-height"})],1),e.hasShowUi?n("v-footer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{app:""}}):e._e()],1)},i=[],l=(a("b0c0"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),s=a("5530"),o=a("d4ec"),u=a("bee2"),c=a("262e"),d=a("2caf"),f=a("9ab4"),v=a("60a3"),m=a("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height user-select-none"},[n("v-row",{attrs:{justify:"center",align:"start","no-gutters":""}},[n("v-col",{attrs:{cols:"9",sm:"4",md:"3",lg:"2"}},[n("img",{attrs:{src:a("a554"),width:"100%"}})])],1),n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"7",lg:"6"}},[n("LoginForm")],1)],1),n("v-row",{attrs:{justify:"center","no-gutters":"",hidden:""}},[n("v-col")],1)],1)},b=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"full-width",nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isFormValid&&e.submit()}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-card",{staticClass:"rounded-lg",attrs:{width:"100%",color:"grey lighten-5"}},[a("v-card-title",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.login.title"))+" ")]),a("v-card-text",[a("v-text-field",{attrs:{color:"primary lighten-1",label:e.$vuetify.lang.t("$vuetify.login.label.login"),rules:e.loginRules},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),a("v-text-field",{staticClass:"mt-4",attrs:{color:"primary lighten-1",rules:e.passwordRules,label:e.$vuetify.lang.t("$vuetify.login.label.password"),type:e.isShowPass?"text":"password","append-icon":e.password.length>0?e.isShowPass?"mdi-eye-off":"mdi-eye":""},on:{"click:append":function(){return e.isShowPass=!e.isShowPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary lighten-1",disabled:!e.isFormValid,loading:e.loadingState},on:{click:e.submit}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.common.action.login"))+" ")])],1)],1)],1)},y=[],g=(a("466d"),a("6fc5")),_=a("2f62");n["a"].use(_["a"]);var $=new _["a"].Store({}),k=(a("d3b7"),function e(){Object(o["a"])(this,e)});k.TOKEN_KEY="token",k.PROFILE_KEY="profile";var x=a("bc3a"),O=a.n(x),j=function(){function e(){Object(o["a"])(this,e),this.api=O.a.create({baseURL:"https://staging.voodoo.pub/wtt-orchestrator-backend"}),this.api.interceptors.response.use((function(e){return e}),(function(e){if(e.isAxiosError)switch(e.response.status){case 401:S.logout();break}return Promise.reject(e)}))}return Object(u["a"])(e,[{key:"signIn",value:function(e,t){return this.api.post("/app/account/sign-in",{email:e,password:t})}},{key:"users",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return this.api.post("/app/users/list",{access_token:localStorage.getItem(k.TOKEN_KEY),filters:{query:e,deleted:t},offset:a,limit:n})}},{key:"getUser",value:function(e){return this.api.post("/app/users/get",{access_token:localStorage.getItem(k.TOKEN_KEY),id:e})}},{key:"updateUser",value:function(e){return this.api.post("/app/users/update",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"createPlan",value:function(e){return this.api.post("/app/plans/create",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"plans",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return this.api.post("/app/plans/list",{access_token:localStorage.getItem(k.TOKEN_KEY),offset:e,limit:t})}},{key:"updatePlan",value:function(e){return this.api.post("/app/plans/update",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"getPlan",value:function(e){return this.api.post("/app/plans/get",{access_token:localStorage.getItem(k.TOKEN_KEY),id:e})}},{key:"instances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15;return this.api.post("/app/instances/list",{access_token:localStorage.getItem(k.TOKEN_KEY),filters:{query:e,deleted:t},offset:a,limit:n})}},{key:"createInstance",value:function(e){return this.api.post("/app/instances/create",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"updateInstance",value:function(e){return this.api.post("/app/instances/update",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"removeInstance",value:function(e){return this.api.post("/app/instances/delete",{access_token:localStorage.getItem(k.TOKEN_KEY),id:e})}},{key:"getInstance",value:function(e){return this.api.post("/app/instances/get",{access_token:localStorage.getItem(k.TOKEN_KEY),id:e})}},{key:"licenses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return this.api.post("/app/licenses/list",{access_token:localStorage.getItem(k.TOKEN_KEY),offset:e,limit:t})}},{key:"createLicense",value:function(e){return this.api.post("/app/licenses/create",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"getLicense",value:function(e){return this.api.post("/app/licenses/get",{access_token:localStorage.getItem(k.TOKEN_KEY),id:e})}},{key:"updateLicense",value:function(e){return this.api.post("/app/licenses/update",Object(s["a"])({access_token:localStorage.getItem(k.TOKEN_KEY)},e))}},{key:"promisePayment",value:function(e){return this.api.post("/app/bills/promise",{access_token:localStorage.getItem(k.TOKEN_KEY),licenseId:e})}},{key:"bills",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return this.api.post("/app/bills/list",{access_token:localStorage.getItem(k.TOKEN_KEY),offset:e,limit:t})}},{key:"durations",value:function(){return this.api.post("/app/instances/durations",{access_token:localStorage.getItem(k.TOKEN_KEY)})}},{key:"currencies",value:function(){return this.api.post("/app/misc/currencies",{access_token:localStorage.getItem(k.TOKEN_KEY)})}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),w=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._profile=null,e._token=null,e}return Object(u["a"])(a,[{key:"load",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem(k.PROFILE_KEY),a=localStorage.getItem(k.TOKEN_KEY),e.abrupt("return",{_profile:t?JSON.parse(t):null,_token:a});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem(k.PROFILE_KEY),localStorage.removeItem(k.TOKEN_KEY),e.abrupt("return",{_profile:null,_token:null});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.login,n=t.password,e.next=3,j.getInstance().signIn(a,n);case 3:return r=e.sent,localStorage.setItem(k.TOKEN_KEY,r.data.user.access_token),localStorage.setItem(k.PROFILE_KEY,JSON.stringify(r.data.user)),e.abrupt("return",{_profile:r.data.user,_token:r.data.user.access_token});case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isAuth",get:function(){return!!this._token}},{key:"token",get:function(){return this._token}},{key:"profile",get:function(){return this._profile}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"load",null),Object(f["a"])([Object(g["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"logout",null),Object(f["a"])([Object(g["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"signIn",null),w=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"AuthStore"})],w);var S=Object(g["e"])(w),C=(a("4d63"),a("25f0"),new RegExp("\\S+@\\S+.\\S+.$")),D=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.login="",e.password="",e.isFormValid=!1,e.isShowPass=!1,e.loadingState=!1,e.loginRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.error.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.error.no_spaces")},function(t){return!!t.match(C)||e.$vuetify.lang.t("$vuetify.login.error.email_format_invalid")}],e.passwordRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.error.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.error.no_spaces")}],e}return Object(u["a"])(a,[{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingState=!0,e.next=4,S.signIn({login:this.login,password:this.password});case 4:this.$router.replace({name:Za.name}),e.next=15;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.exception)||void 0===n?void 0:n.message,e.next="Incorrect email or password passed"===e.t1?12:14;break;case 12:return alert("Неверный логин или пароль, повторите ввод"),e.abrupt("break",15);case 14:alert(e.t0.message);case 15:return e.prev=15,this.loadingState=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,7,15,18]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(v["d"]);D=Object(f["a"])([v["a"]],D);var E=D,V=E,I=a("2877"),R=a("6544"),P=a.n(R),T=a("8336"),A=a("b0af"),L=a("99d9"),q=a("4bd4"),F=a("2fa4"),N=a("8654"),K=Object(I["a"])(V,h,y,!1,null,null,null),B=K.exports;P()(K,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VForm:q["a"],VSpacer:F["a"],VTextField:N["a"]});var U=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(v["d"]);U=Object(f["a"])([Object(v["a"])({components:{LoginForm:B}})],U);var Y=U,M=Y,H=a("62ad"),W=a("a523"),J=a("0fd9"),G=Object(I["a"])(M,p,b,!1,null,null,null),z=G.exports;P()(G,{VCol:H["a"],VContainer:W["a"],VRow:J["a"]});var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.search,loading:e.loading.table},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer",style:{color:n.is_required_upgrade?"var(--v-disabled-lighten1)":""},on:{click:function(t){return e.clickOnRow(n)}}},[a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.id}},[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.name}},[e._v(e._s(n.name))])]),a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.limit}},[e._v(e._s(n.limit))])]),a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.count}},[e._v(e._s(n.count))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.created_at.toDateString()}},[e._v(e._s(n.created_at.toLocaleDateString()))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.expires_at.toDateString()}},[e._v(e._s(n.expires_at.toLocaleDateString()))])]),a("td",{staticClass:"text-center user-select-none"},[n.is_required_upgrade?a("v-chip",{staticClass:"cursor-pointer",attrs:{color:"error lighten-1",title:e.$vuetify.lang.t("$vuetify.pages.instances.table.need_update_lic")}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.instances.table.need_update_lic")))]):a("span",[e._v("—")])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{staticClass:"mr-4",attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.label.search_input")},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._e(),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.action.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2),a("v-dialog",{attrs:{scrollable:"","max-width":"1100px",persistent:""},on:{"click:outside":e.clickOutsideSubpage,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickOutsideSubpage(t)}},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path,ref:"subpage"})],1)],1)},X=[],Z=(a("45fc"),a("841c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticClass:"ma-0 pa-0 search-view",style:{"max-width":e.maxWidth},attrs:{"background-color":"grey lighten-4","prepend-inner-icon":"mdi-magnify",placeholder:e.placeholder,disabled:e.disabled,solo:"",flat:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})}),ee=[],te=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"search",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(v["d"]);Object(f["a"])([Object(v["c"])({required:!1})],te.prototype,"value",void 0),Object(f["a"])([Object(v["c"])({required:!1})],te.prototype,"placeholder",void 0),Object(f["a"])([Object(v["c"])({default:!1})],te.prototype,"disabled",void 0),Object(f["a"])([Object(v["c"])({default:"350px"})],te.prototype,"maxWidth",void 0),te=Object(f["a"])([v["a"]],te);var ae=te,ne=ae,re=(a("ffa9"),Object(I["a"])(ne,Z,ee,!1,null,null,null)),ie=re.exports;P()(re,{VTextField:N["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center overflow-x-auto overflow-y-hidden",staticStyle:{"min-height":"48px"}},[e._t("default")],2)},se=[],oe={},ue=Object(I["a"])(oe,le,se,!1,null,null,null),ce=ue.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",e._b({staticClass:"flex column fill-height",attrs:{height:"100%","fixed-header":"",page:e.page,options:e.options,"mobile-breakpoint":0,"items-per-page":20,"no-data-text":e.$vuetify.lang.t("$vuetify.common.table.label.list_empty"),"loading-text":e.$vuetify.lang.t("$vuetify.common.table.label.loading"),"footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:page":function(t){e.page=t},"update:options":function(t){e.options=t}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"v-data-table",e.$props,!1))},fe=[],ve=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.options={},e.page=1,e}return Object(u["a"])(a,[{key:"onOptionsChanged",value:function(e){this.$emit("options",e)}},{key:"setPage",value:function(e){this.page=e,this.$emit("options",this.options)}}]),a}(v["d"]);Object(f["a"])([Object(v["c"])({required:!0})],ve.prototype,"headers",void 0),Object(f["a"])([Object(v["c"])({required:!0})],ve.prototype,"items",void 0),Object(f["a"])([Object(v["c"])({required:!0})],ve.prototype,"loading",void 0),Object(f["a"])([Object(v["c"])({required:!0})],ve.prototype,"serverItemsLength",void 0),Object(f["a"])([Object(v["c"])({required:!1})],ve.prototype,"search",void 0),Object(f["a"])([Object(v["e"])("options",{deep:!0})],ve.prototype,"onOptionsChanged",null),ve=Object(f["a"])([v["a"]],ve);var me=ve,pe=me,be=a("8fea"),he=Object(I["a"])(pe,de,fe,!1,null,null,null),ye=he.exports;P()(he,{VDataTable:be["a"]});var ge=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._items=[],e}return Object(u["a"])(a,[{key:"setItems",value:function(e){this._items=e}},{key:"clean",value:function(){this._items=[]}},{key:"isShow",get:function(){return this.items.length>0}},{key:"items",get:function(){return this._items}}]),a}(g["d"]);Object(f["a"])([g["b"]],ge.prototype,"setItems",null),Object(f["a"])([g["b"]],ge.prototype,"clean",null),ge=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"AppbarMenuStore"})],ge);var _e=Object(g["e"])(ge),$e=(a("d81d"),function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._instances=[],e._totalInstances=0,e}return Object(u["a"])(a,[{key:"loadInstances",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,n=t.isDeleted,r=t.offset,i=t.limit,e.next=3,j.getInstance().instances(a,n,r,i);case 3:return l=e.sent,e.abrupt("return",{_totalInstances:l.data.count,_instances:l.data.instances.map((function(e){var t=new Date(e.created_at),a=new Date(e.created_at);return a.setDate(a.getDate()+e.stats.license.duration),{id:e.id,name:e.name,limit:e.stats.employees.licensed,count:e.stats.employees.active,created_at:t,expires_at:a,is_required_upgrade:e.requires_upgrade,db:{db_host:e.db_host,db_name:e.db_name,db_user:e.db_username,db_pass:e.db_password},vi_key:e.vi_api_key,geo_key:e.dadata_api_key}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"instances",get:function(){return this._instances}},{key:"totalInstances",get:function(){return this._totalInstances}}]),a}(g["d"]));Object(f["a"])([Object(g["c"])({mutate:["_instances","_totalInstances"],rawError:!0})],$e.prototype,"loadInstances",null),$e=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"InstancesStore"})],$e);var ke=Object(g["e"])($e),xe=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.1"),width:"22%"},{value:"limit",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.2"),width:"15%"},{value:"count",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.3"),width:"15%"},{value:"created_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.4"),width:"15%"},{value:"expires_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.5"),width:"18%"},{value:"state",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.header.6"),width:"13%"}],e.loading={table:!1},e.isDeletedSelect=[{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.all"),value:null},{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.enabled"),value:!1},{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.disabled"),value:!0}],e}return Object(u["a"])(a,[{key:"clearFitlers",value:function(){this.search=void 0}},{key:"onFiltersChanged",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.table.setPage(1);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=this;_e.setItems([{title:this.$vuetify.lang.t("$vuetify.pages.instances.action.add"),icon:"mdi-database-plus",action:function(){e.$router.push(Xa)}}]),this.$router.afterEach((function(t){t.name===Za.name&&e.loadData(e.search,e.isDeleted,(e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"beforeDestroy",value:function(){_e.clean()}},{key:"loadData",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.table=!0,e.next=4,ke.loadInstances({search:t,isDeleted:a,offset:n,limit:r});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.loading.table=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a,n,r){return e.apply(this,arguments)}return t}()},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData(this.search,this.isDeleted,(e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"onSubpageClosed",value:function(){this.$router.replace(Za)}},{key:"clickOnRow",value:function(e){this.$router.push(Object(s["a"])(Object(s["a"])({},Qa),{},{params:{id:e.id.toString()}}))}},{key:"clickOutsideSubpage",value:function(){this.$refs.subpage.cancel()}},{key:"search",get:function(){return this.$route.query.search},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{search:""!==e?e:void 0})})}},{key:"isDeleted",get:function(){switch(this.$route.query.inactive){case void 0:return null;case"false":return!1;case"true":return!0}},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{inactive:null!==e?e:void 0})})}},{key:"isFilteresDefault",get:function(){return!!this.search}},{key:"tableItems",get:function(){return ke.instances}},{key:"totalItems",get:function(){return ke.totalInstances}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=Za.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(v["d"]);Object(f["a"])([Object(v["e"])("$route.query",{deep:!0})],xe.prototype,"onFiltersChanged",null),xe=Object(f["a"])([Object(v["a"])({components:{SearchField:ie,FiltersContainer:ce,DataTable:ye}})],xe);var Oe=xe,je=Oe,we=a("cc20"),Se=a("169a"),Ce=a("ce7e"),De=a("132d"),Ee=a("b974"),Ve=Object(I["a"])(je,Q,X,!1,null,null,null),Ie=Ve.exports;P()(Ve,{VBtn:T["a"],VChip:we["a"],VContainer:W["a"],VDialog:Se["a"],VDivider:Ce["a"],VIcon:De["a"],VSelect:Ee["a"],VSpacer:F["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.create_instance.label.creating")))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{ref:"focusedField",attrs:{tabindex:"1",disabled:e.form.instance_name.readonly,rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.0")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{tabindex:"3",disabled:e.form.db_host.readonly,rules:e.form.db_host.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.1")},model:{value:e.form.db_host.value,callback:function(t){e.$set(e.form.db_host,"value",t)},expression:"form.db_host.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{tabindex:"4",disabled:e.form.db_name.readonly,rules:e.form.db_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.2")},model:{value:e.form.db_name.value,callback:function(t){e.$set(e.form.db_name,"value",t)},expression:"form.db_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{tabindex:"5",disabled:e.form.db_user.readonly,rules:e.form.db_user.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.3")},model:{value:e.form.db_user.value,callback:function(t){e.$set(e.form.db_user,"value",t)},expression:"form.db_user.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("PasswordComponent",{attrs:{tabindex:"6",disabled:e.form.db_pass.readonly,rules:e.form.db_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.4")},model:{value:e.form.db_pass.value,callback:function(t){e.$set(e.form.db_pass,"value",t)},expression:"form.db_pass.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-select",{attrs:{tabindex:"8","item-text":"title","item-value":"id",items:e.plans,loading:e.plans.length<=0,disabled:e.form.plan.readonly||e.plans.length<=0,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.5")},model:{value:e.form.plan.value,callback:function(t){e.$set(e.form.plan,"value",t)},expression:"form.plan.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("DatePicker",{attrs:{tabindex:"9",disabled:e.form.expired_at.readonly,rules:e.form.expired_at.rules,parser:function(e){return new Date(e).toLocaleDateString()},label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.6")},model:{value:e.form.expired_at.value,callback:function(t){e.$set(e.form.expired_at,"value",t)},expression:"form.expired_at.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("v-text-field",{attrs:{tabindex:"13",disabled:e.form.username.readonly,rules:e.form.username.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.9")},model:{value:e.form.username.value,callback:function(t){e.$set(e.form.username,"value",t)},expression:"form.username.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("v-text-field",{attrs:{tabindex:"14",disabled:e.form.user_email.readonly,rules:e.form.user_email.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.10")},model:{value:e.form.user_email.value,callback:function(t){e.$set(e.form.user_email,"value",t)},expression:"form.user_email.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("PasswordComponent",{attrs:{tabindex:"15",disabled:e.form.user_pass.readonly,rules:e.form.user_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_instance.form.label.11")},model:{value:e.form.user_pass.value,callback:function(t){e.$set(e.form.user_pass,"value",t)},expression:"form.user_pass.value"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",tabindex:"16",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.create")))])],1)],1)},Pe=[],Te=(a("99af"),a("a623"),a("4de4"),a("13d5"),a("b64b"),a("1276"),a("3835")),Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticStyle:{"pointer-events":"auto"},attrs:{color:"primary lighten-1",disabled:e.disabled,readonly:e.readonly,rules:e.rules,label:e.label,tabindex:e.tabindex,type:e.isShow?"text":"password"},on:{"~focus":function(t){e.isShow=!1}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[a("template",{attrs:{value:!0},slot:"append"},[a("v-icon",{on:{click:function(){return e.isShow=!e.isShow}}},[e._v(e._s(e.password.length>0?e.isShow?"mdi-eye-off":"mdi-eye":""))])],1)],2)},Le=[],qe=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.isShow=!1,e}return Object(u["a"])(a,[{key:"mounted",value:function(){this.value&&""!==this.value&&(this.isShow=!1)}},{key:"password",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(v["d"]);Object(f["a"])([Object(v["c"])({required:!1})],qe.prototype,"value",void 0),Object(f["a"])([Object(v["c"])({required:!1})],qe.prototype,"rules",void 0),Object(f["a"])([Object(v["c"])({default:!1})],qe.prototype,"label",void 0),Object(f["a"])([Object(v["c"])({default:!1})],qe.prototype,"disabled",void 0),Object(f["a"])([Object(v["c"])({default:!1})],qe.prototype,"readonly",void 0),Object(f["a"])([Object(v["c"])({default:"350px"})],qe.prototype,"maxWidth",void 0),Object(f["a"])([Object(v["c"])({default:-1})],qe.prototype,"tabindex",void 0),qe=Object(f["a"])([v["a"]],qe);var Fe=qe,Ne=Fe,Ke=Object(I["a"])(Ne,Ae,Le,!1,null,null,null),Be=Ke.exports;function Ue(e){var t=e();return"boolean"===typeof t&&t}P()(Ke,{VIcon:De["a"],VTextField:N["a"]});var Ye=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._plans=[],e._totalPlans=0,e}return Object(u["a"])(a,[{key:"loadPlans",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.offset,n=t.limit,e.next=3,j.getInstance().plans(a,n);case 3:return r=e.sent,e.abrupt("return",{_totalPlans:r.data.count,_plans:r.data.plans.map((function(e){return{id:e.id,title:e.title,code:e.code,employees_limit:e.employees_limit,monthly_fee_text:e.monthly_fee_text.replace(/,\d{1,}/,""),status:e.is_deleted<1}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"plans",get:function(){return this._plans}},{key:"totalPlans",get:function(){return this._totalPlans}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_plans","_totalPlans"],rawError:!0})],Ye.prototype,"loadPlans",null),Ye=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"PlansStore"})],Ye);var Me=Object(g["e"])(Ye),He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{ref:"dialog",attrs:{"return-value":e.date,width:"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{tabindex:e.tabindex,rules:e.rules,label:e.label,"prepend-icon":"mdi-calendar",readonly:""},on:{"click:prepend":n.click,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:n.click(t)}},model:{value:e.parsedDate,callback:function(t){e.parsedDate=t},expression:"parsedDate"}},"v-text-field",r,!1),n))]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-btn",{attrs:{text:""},on:{click:e.commit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.ok")))])],1)],1)},We=[],Je=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.dialog=!1,e.date="",e}return Object(u["a"])(a,[{key:"mounted",value:function(){this.date=this.init}},{key:"commit",value:function(){this.$refs.dialog.save(this.date)}},{key:"onDateChanged",value:function(e){this.$emit("input",e)}},{key:"onInitValueChanged",value:function(e){""===this.date&&(this.date=e)}},{key:"parsedDate",get:function(){return""!==this.date?this.parser(this.date):this.date}}]),a}(v["d"]);Object(f["a"])([Object(v["c"])({required:!1,default:""})],Je.prototype,"init",void 0),Object(f["a"])([Object(v["c"])({required:!1,default:function(){return[]}})],Je.prototype,"rules",void 0),Object(f["a"])([Object(v["c"])({required:!1})],Je.prototype,"label",void 0),Object(f["a"])([Object(v["c"])({default:-1})],Je.prototype,"tabindex",void 0),Object(f["a"])([Object(v["c"])({default:function(){return function(e){return e}}})],Je.prototype,"parser",void 0),Object(f["a"])([Object(v["e"])("date")],Je.prototype,"onDateChanged",null),Object(f["a"])([Object(v["e"])("init")],Je.prototype,"onInitValueChanged",null),Je=Object(f["a"])([v["a"]],Je);var Ge=Je,ze=Ge,Qe=a("2e4b"),Xe=Object(I["a"])(ze,He,We,!1,null,null,null),Ze=Xe.exports;P()(Xe,{VBtn:T["a"],VDatePicker:Qe["a"],VDialog:Se["a"],VSpacer:F["a"],VTextField:N["a"]});var et=a("3653"),tt=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"setFocusOnFirstField",value:function(){var e=this;this.$nextTick((function(){setTimeout((function(){e.$refs.focusedField.$refs.input.focus()}),0)}))}}]),a}(n["a"]);tt=Object(f["a"])([et["Mixin"]],tt);var at=tt,nt=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.loading={submit:!1},e.form={instance_name:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.instance_name.value.match(/^\s+$/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_host:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.db_host.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_host.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_name:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.db_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_user:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.db_user.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_user.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_pass:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.db_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},plan:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.plan.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},expired_at:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.expired_at.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},username:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.username.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},user_email:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.user_email.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.user_email.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")},function(){return!!e.form.user_email.value.match(C)||e.$vuetify.lang.t("$vuetify.common.error.email_format_invalid")}]},user_pass:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.user_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.user_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]}},e}return Object(u["a"])(a,[{key:"mounted",value:function(){Me.loadPlans({limit:-1,offset:0}),this.setFocusOnFirstField()}},{key:"commitSelectedExpiredAtDate",value:function(){this.$refs.expiredDateDialog.save(this.form.expired_at)}},{key:"formatDate",value:function(e){if(!e)return null;var t=e.split("-"),a=Object(Te["a"])(t,3),n=a[0],r=a[1],i=a[2];return"".concat(i,".").concat(r,".").concat(n)}},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().createInstance({instance:{name:this.form.instance_name.value,db_host:this.form.db_host.value,db_name:this.form.db_name.value,db_password:this.form.db_pass.value,db_username:this.form.db_user.value,licenses:{plan_id:this.form.plan.value,valid_until:this.form.expired_at.value}},user:{full_name:this.form.username.value,email:this.form.user_email.value,password:this.form.user_pass.value}});case 4:this.$router.replace(Za),e.next=15;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.exception)||void 0===n?void 0:n.message,e.next="Неверный ключ подключения к системе видеоидентификации"===e.t1?12:14;break;case 12:return alert(this.$vuetify.lang.t("$vuetify.pages.create_instance.error.invalid_vi_key")),e.abrupt("break",15);case 14:alert((null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i||null===(l=i.exception)||void 0===l?void 0:l.message)||e.t0.message);case 15:return e.prev=15,this.loading.submit=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,7,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(Za):this.$router.replace(Za)}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))}},{key:"plans",get:function(){return Me.plans.filter((function(e){return e.status}))}},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}}]),a}(Object(et["Mixins"])(at));nt=Object(f["a"])([Object(v["a"])({components:{PasswordComponent:Be,DatePicker:Ze}})],nt);var rt=nt,it=rt,lt=Object(I["a"])(it,Re,Pe,!1,null,null,null),st=lt.exports;P()(lt,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSpacer:F["a"],VTextField:N["a"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-space-around"},[e._m(0),a("div",{staticClass:"flex-grow-0 d-flex flex-column text-center"},[a("span",{staticClass:"text-h3 text-sm-h1 font-weight-light"},[e._v("404")]),a("span",{staticClass:"text-body-1 mt-2"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.label.page_not_found")))])]),a("div",{staticClass:"flex-grow-0"},[a("v-btn",{attrs:{color:"primary",to:"/"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-arrow-left")]),a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.return")))])],1)],1)])},ut=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-grow-0"},[n("img",{attrs:{src:a("62a1"),width:"250px"}})])}],ct={},dt=Object(I["a"])(ct,ot,ut,!1,null,null,null),ft=dt.exports;P()(dt,{VBtn:T["a"],VIcon:De["a"]});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.search,loading:e.loading.table},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[e.isOrchestrator(n)?e._e():a("tr",{staticClass:"cursor-pointer",style:{color:n.status?"":"var(--v-disabled-lighten1)"},on:{click:function(t){return e.clickOnRow(n)}}},[a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.id}},[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.name}},[e._v(e._s(n.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.email}},[e._v(e._s(n.email))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.instance_name}},[e._v(e._s(n.instance_name?n.instance_name:"—"))])]),a("td",{staticClass:"text-start user-select-none"},e._l(n.role.split(","),(function(t,n){return a("v-chip",{key:n,staticClass:"cursor-pointer ma-1",attrs:{color:"grey lighten-4",title:e.$vuetify.lang.t("$vuetify.timeflow.roles."+t)}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.timeflow.roles."+t))+" ")])})),1),a("td",{staticClass:"text-center user-select-none"},[a("CodeComponent",{attrs:{color:n.status?"enabled":"disabled",background:"lighten3"}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.common.label.status."+(n.status?"enabled":"disabled")))+" ")])],1),a("td",{staticClass:"text-center user-select-none"},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return t.stopPropagation(),e.loginAs(n)}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.users.action.enter")))])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{staticClass:"mr-4",attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.label.search_input")},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-select",{attrs:{items:e.isDeletedSelect,"item-text":"title","item-value":"value",solo:"","hide-details":"",flat:"","prepend-inner-icon":"mdi-selection-multiple","background-color":"grey lighten-4"},model:{value:e.isDeleted,callback:function(t){e.isDeleted=t},expression:"isDeleted"}}),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.action.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2),a("v-dialog",{attrs:{scrollable:"","max-width":"1100px",persistent:""},on:{"click:outside":e.clickOutsideSubpage,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickOutsideSubpage(t)}},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path,ref:"subpage"})],1)],1)},mt=[],pt=(a("caad"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("code",{staticClass:"text-no-wrap",style:{color:"var(--v-"+e.color+"-darken1)","background-color":"var(--v-"+e.color+"-"+e.background+")"}},[e._t("default")],2)}),bt=[],ht=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(v["d"]);Object(f["a"])([Object(v["c"])({default:"primary"})],ht.prototype,"color",void 0),Object(f["a"])([Object(v["c"])({default:"lighten5"})],ht.prototype,"background",void 0),ht=Object(f["a"])([v["a"]],ht);var yt=ht,gt=yt,_t=(a("974f"),Object(I["a"])(gt,pt,bt,!1,null,"2a7590c1",null)),$t=_t.exports,kt=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._users=[],e._totalUsers=0,e}return Object(u["a"])(a,[{key:"loadUsers",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,n=t.isDeleted,r=t.offset,i=t.limit,e.next=3,j.getInstance().users(a,n,r,i);case 3:return l=e.sent,e.abrupt("return",{_totalUsers:l.data.count,_users:l.data.users.map((function(e){var t;return{id:e.id,access_token:e.access_token,name:e.full_name,email:e.email,instance_name:null===(t=e.instance)||void 0===t?void 0:t.name,role:e.role,status:0===e.is_deleted}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"users",get:function(){return this._users}},{key:"totalUsers",get:function(){return this._totalUsers}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_users","_totalUsers"],rawError:!0})],kt.prototype,"loadUsers",null),kt=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"UsersStore"})],kt);var xt,Ot=Object(g["e"])(kt);(function(e){e["OWNER"]="root",e["ADMIN"]="admin",e["MANAGER"]="manager",e["HR"]="hr",e["ANALYST"]="analyst",e["ORCHESTRATOR"]="orchestrator"})(xt||(xt={}));var jt=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.1"),width:"25%"},{value:"email",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.2"),width:"25%"},{value:"instance",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.3"),width:"15%"},{value:"role",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.4"),width:"25%"},{value:"status",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.5"),width:"5%"},{value:"actions",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.header.6"),width:"18%"}],e.loading={table:!1},e.isDeletedSelect=[{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.all"),value:null},{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.enabled"),value:!1},{title:e.$vuetify.lang.t("$vuetify.pages.users.filter.active.disabled"),value:!0}],e}return Object(u["a"])(a,[{key:"clearFitlers",value:function(){this.search=void 0,this.isDeleted=null}},{key:"onFiltersChanged",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.table.setPage(1);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.$router.afterEach((function(e){e.name,tn.name}))}},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData(this.search,this.isDeleted,(e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"loadData",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.table=!0,e.next=4,Ot.loadUsers({search:t,isDeleted:a,offset:n,limit:r});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.loading.table=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a,n,r){return e.apply(this,arguments)}return t}()},{key:"onSubpageClosed",value:function(){this.$router.replace(tn)}},{key:"clickOnRow",value:function(e){this.$router.push(Object(s["a"])(Object(s["a"])({},en),{},{params:{id:e.id.toString()}}))}},{key:"clickOutsideSubpage",value:function(){this.$refs.subpage.cancel()}},{key:"isOrchestrator",value:function(e){return e.role.split(",").includes(xt.ORCHESTRATOR)}},{key:"loginAs",value:function(e){var t=window.open("".concat("https://staging.voodoo.pub/wtt","/login-as?orchestrator=").concat(S.token,"&user=").concat(e.access_token),"_blank");return null===t||void 0===t?void 0:t.focus()}},{key:"search",get:function(){return this.$route.query.search},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{search:""!==e?e:void 0})})}},{key:"isDeleted",get:function(){switch(this.$route.query.inactive){case void 0:return null;case"false":return!1;case"true":return!0}},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{inactive:null!==e?e:void 0})})}},{key:"isFilteresDefault",get:function(){return!this.search&&null===this.isDeleted}},{key:"tableItems",get:function(){return Ot.users}},{key:"totalItems",get:function(){return Ot.totalUsers}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=tn.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(v["d"]);Object(f["a"])([Object(v["e"])("$route.query",{deep:!0})],jt.prototype,"onFiltersChanged",null),jt=Object(f["a"])([Object(v["a"])({components:{SearchField:ie,FiltersContainer:ce,DataTable:ye,CodeComponent:$t}})],jt);var wt=jt,St=wt,Ct=Object(I["a"])(St,vt,mt,!1,null,null,null),Dt=Ct.exports;P()(Ct,{VBtn:T["a"],VChip:we["a"],VContainer:W["a"],VDialog:Se["a"],VDivider:Ce["a"],VIcon:De["a"],VSelect:Ee["a"],VSpacer:F["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e.loading.card?e._e():a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.instance.title",e.title)))])]),e.loading.card?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1),a("v-form",{attrs:{readonly:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.instance_name.readonly,rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.label.0")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.db_host.readonly,rules:e.form.db_host.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.label.1")},model:{value:e.form.db_host.value,callback:function(t){e.$set(e.form.db_host,"value",t)},expression:"form.db_host.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.db_name.readonly,rules:e.form.db_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.label.2")},model:{value:e.form.db_name.value,callback:function(t){e.$set(e.form.db_name,"value",t)},expression:"form.db_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.db_user.readonly,rules:e.form.db_user.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.label.3")},model:{value:e.form.db_user.value,callback:function(t){e.$set(e.form.db_user,"value",t)},expression:"form.db_user.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("PasswordComponent",{attrs:{disabled:e.form.db_pass.readonly,rules:e.form.db_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.label.4")},model:{value:e.form.db_pass.value,callback:function(t){e.$set(e.form.db_pass,"value",t)},expression:"form.db_pass.value"}})],1)],1)],1),e.loading.card?e._e():a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"error",text:"",loading:e.loading.remove},on:{click:e.remove}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.remove")))]),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.edit")))])],1)],1)},Vt=[],It=(a("a9e3"),function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={instance_name:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},db_host:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.db_host.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_host.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_name:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.db_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_user:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.db_user.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_user.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]},db_pass:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.db_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.db_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")}]}},e.loading={card:!1,submit:!1,remove:!1},e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,e.next=4,j.getInstance().getInstance(Number(this.$route.params.id));case 4:t=e.sent,this.instance=t.data,this.form.instance_name.value=t.data.instance.name,this.form.instance_name.initial=this.form.instance_name.value,this.form.db_host.value=t.data.instance.db_host,this.form.db_host.initial=this.form.db_host.value,this.form.db_name.value=t.data.instance.db_name,this.form.db_name.initial=this.form.db_name.value,this.form.db_user.value=t.data.instance.db_username,this.form.db_user.initial=this.form.db_user.value,this.form.db_pass.value=t.data.instance.db_password,this.form.db_pass.initial=this.form.db_pass.value,e.next=21;break;case 18:if(e.prev=18,e.t0=e["catch"](0),e.t0.isAxiosError)switch(e.t0.response.status){case 400:alert(this.$vuetify.lang.t("$vuetify.pages.instance.error.400")),this.$router.replace(Za)}case 21:return e.prev=21,this.loading.card=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[0,18,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(Za):this.$router.replace(Za)}},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updateInstance({id:this.instance.instance.id,instance:{name:this.form.instance_name.value,vi_api_key:this.form.vi_key.value,dadata_api_key:this.form.geo_key.value}});case 4:this.$router.replace(Za),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading.remove=!0,t=confirm(this.$vuetify.lang.t("$vuetify.pages.instance.label.confirm_remove",this.title)),!t){e.next=7;break}return e.next=6,j.getInstance().removeInstance(this.instance.instance.id);case 6:this.$router.replace(Za);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:return e.prev=11,this.loading.remove=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,9,11,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"isValueUpdated",get:function(){return this.isEdited}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))&&this.isValueUpdated}},{key:"title",get:function(){return this.instance.instance.name}}]),a}(v["d"]));It=Object(f["a"])([Object(v["a"])({components:{PasswordComponent:Be}})],It);var Rt=It,Pt=Rt,Tt=a("3129"),At=Object(I["a"])(Pt,Et,Vt,!1,null,null,null),Lt=At.exports;P()(At,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VForm:q["a"],VRow:J["a"],VSkeletonLoader:Tt["a"],VSpacer:F["a"],VTextField:N["a"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e.loading.card?e._e():a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.user.title",e.title)))])]),e.loading.card?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.name.readonly,rules:e.form.name.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.label.0")},model:{value:e.form.name.value,callback:function(t){e.$set(e.form.name,"value",t)},expression:"form.name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.email.readonly,rules:e.form.email.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.label.1")},model:{value:e.form.email.value,callback:function(t){e.$set(e.form.email,"value",t)},expression:"form.email.value"}})],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:e.form.instance_name.readonly,rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.label.2")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.roles,disabled:e.form.roles.readonly||e.isRolesEnabled,multiple:"",chips:"",label:e.$vuetify.lang.t("$vuetify.pages.user.form.label.3")},model:{value:e.form.roles.value,callback:function(t){e.$set(e.form.roles,"value",t)},expression:"form.roles.value"}})],1)],1)],1),e.loading.card?e._e():a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.edit")))])],1)],1)},Ft=[],Nt=(a("a15b"),function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={name:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},email:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.email.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")},function(){return!e.form.email.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.error.no_spaces")},function(){return!!e.form.email.value.match(C)||e.$vuetify.lang.t("$vuetify.common.error.email_format_invalid")}]},roles:{initial:[],value:[],readonly:!1,rules:[function(){return e.form.roles.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},instance_name:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]}},e.loading={card:!1,submit:!1},e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,e.next=4,j.getInstance().getUser(Number(this.$route.params.id));case 4:t=e.sent,this.user=t.data,this.form.name.value=t.data.user.full_name,this.form.name.initial=this.form.name.value,this.form.email.value=t.data.user.email,this.form.email.initial=this.form.email.value,this.form.roles.value=t.data.user.role.split(","),this.form.roles.initial=this.form.roles.value,this.form.instance_name.value=t.data.user.instance.name,this.form.instance_name.initial=this.form.instance_name.value,e.next=19;break;case 16:if(e.prev=16,e.t0=e["catch"](0),e.t0.isAxiosError)switch(e.t0.response.status){case 400:alert(this.$vuetify.lang.t("$vuetify.pages.instance.error.400")),this.$router.replace(tn)}case 19:return e.prev=19,this.loading.card=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[0,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(tn):this.$router.replace(tn)}},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updateUser({id:this.user.user.id,user:{full_name:this.form.name.value,email:this.form.email.value,role:this.form.roles.value.join(",")}});case 4:this.$router.replace(tn),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"isValueUpdated",get:function(){return this.isEdited}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))&&this.isValueUpdated}},{key:"roles",get:function(){return[{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.OWNER)),value:xt.OWNER,readonly:!1,disabled:!1},{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.ADMIN)),value:xt.ADMIN,readonly:!1,disabled:!1},{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.MANAGER)),value:xt.MANAGER,readonly:!1,disabled:!1},{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.HR)),value:xt.HR,readonly:!1,disabled:!1},{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.ANALYST)),value:xt.ANALYST,readonly:!1,disabled:!1},{text:this.$vuetify.lang.t("$vuetify.timeflow.roles.".concat(xt.ORCHESTRATOR)),value:xt.ORCHESTRATOR,readonly:!1,disabled:!0}]}},{key:"isRolesEnabled",get:function(){return this.form.roles.value.includes(xt.ORCHESTRATOR)}},{key:"title",get:function(){return this.user.user.full_name}}]),a}(v["d"]));Nt=Object(f["a"])([v["a"]],Nt);var Kt=Nt,Bt=Kt,Ut=Object(I["a"])(Bt,qt,Ft,!1,null,null,null),Yt=Ut.exports;P()(Ut,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSkeletonLoader:Tt["a"],VSpacer:F["a"],VTextField:N["a"]});var Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,loading:e.loading.table},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer",style:{color:n.status?"":"var(--v-disabled-lighten1)"},on:{click:function(t){return e.clickOnRow(n)}}},[a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.id}},[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.title}},[e._v(e._s(n.title))])]),a("td",{staticClass:"text-start user-select-none"},[a("CodeComponent",{attrs:{title:n.code}},[e._v(e._s(n.code))])],1),a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.employees_limit}},[e._v(e._s(n.employees_limit))])]),a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.monthly_fee_text}},[e._v(e._s(n.monthly_fee_text))])]),a("td",{staticClass:"text-center user-select-none"},[a("CodeComponent",{attrs:{color:n.status?"enabled":"disabled",background:"lighten3"}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.common.label.status."+(n.status?"enabled":"disabled")))+" ")])],1)])]}}])}),a("v-dialog",{attrs:{scrollable:"","max-width":"1100px",persistent:""},on:{"click:outside":e.clickOutsideSubpage,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickOutsideSubpage(t)}},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path,ref:"subpage"})],1)],1)},Ht=[],Wt=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.1"),width:"22%"},{value:"code",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.2"),width:"15%"},{value:"limit",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.3"),width:"15%"},{value:"price",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.4"),width:"15%"},{value:"status",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.plans.table.header.5"),width:"18%"}],e.loading={table:!1},e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=this;_e.setItems([{title:this.$vuetify.lang.t("$vuetify.pages.plans.action.add"),icon:"mdi-text-box-plus-outline",action:function(){e.$router.push(on)}}]),this.$router.afterEach((function(t){t.name===un.name&&e.loadData((e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"beforeDestroy",value:function(){_e.clean()}},{key:"loadData",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.table=!0,e.next=4,Me.loadPlans({offset:t,limit:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.loading.table=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"clickOnRow",value:function(e){this.$router.push(Object(s["a"])(Object(s["a"])({},sn),{},{params:{id:e.id.toString()}}))}},{key:"clickOutsideSubpage",value:function(){this.$refs.subpage.cancel()}},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData((e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"tableItems",get:function(){return Me.plans}},{key:"totalItems",get:function(){return Me.totalPlans}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=un.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(v["d"]);Wt=Object(f["a"])([Object(v["a"])({components:{DataTable:ye,CodeComponent:$t}})],Wt);var Jt=Wt,Gt=Jt,zt=Object(I["a"])(Gt,Mt,Ht,!1,null,null,null),Qt=zt.exports;P()(zt,{VContainer:W["a"],VDialog:Se["a"]});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,loading:e.loading.table},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer",style:{color:n.is_active?"":"var(--v-disabled-lighten1)"},on:{click:function(t){return e.clickOnRow(n)}}},[a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.id}},[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.instance.name}},[e._v(e._s(n.instance.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("CodeComponent",{attrs:{title:n.plan.code}},[e._v(e._s(n.plan.code))])],1),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.start_at.toDateString()}},[e._v(e._s(n.start_at.toLocaleDateString()))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.expired_at.toDateString()}},[e._v(e._s(n.expired_at.toLocaleDateString()))])]),a("td",{staticClass:"text-center user-select-none"},[a("CodeComponent",{attrs:{color:n.is_active?"enabled":"disabled",background:"lighten3"}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.common.label.status."+(n.is_active?"enabled":"disabled")))+" ")])],1),a("td",{staticClass:"text-center text-no-wrap"},[a("v-btn",{staticClass:"me-1",attrs:{color:"primary",text:"",disabled:""}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.licenses.action.prolong")))]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!n.can_promise_payment},on:{click:function(t){return t.stopPropagation(),e.promisePayment(n)}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.licenses.action.promised_payment")))])],1)])]}}])}),a("v-dialog",{attrs:{scrollable:"","max-width":"1100px",persistent:""},on:{"click:outside":e.clickOutsideSubpage,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickOutsideSubpage(t)}},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path,ref:"subpage"})],1)],1)},Zt=[],ea=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._licenses=[],e._totalLicenses=0,e}return Object(u["a"])(a,[{key:"loadLicenses",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.offset,n=t.limit,e.next=3,j.getInstance().licenses(a,n);case 3:return r=e.sent,e.abrupt("return",{_totalLicenses:r.data.count,_licenses:r.data.licenses.map((function(e){return{id:e.id,instance:{id:e.instance.id,name:e.instance.name},plan:{id:e.plan.id,name:e.plan.title,code:e.plan.code},is_active:e.is_active>0,start_at:new Date(e.effective_date),expired_at:new Date(e.valid_until),can_promise_payment:e.can_promise_payment}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"licenses",get:function(){return this._licenses}},{key:"totalLicenses",get:function(){return this._totalLicenses}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_licenses","_totalLicenses"],rawError:!0})],ea.prototype,"loadLicenses",null),ea=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"LicensesStore"})],ea);var ta=Object(g["e"])(ea),aa=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.0"),width:"6%"},{value:"instance",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.1"),width:"22%"},{value:"plan",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.2"),width:"15%"},{value:"created_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.3"),width:"15%"},{value:"expited_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.4"),width:"15%"},{value:"status",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.5"),width:"15%"},{value:"actions",align:"center",text:e.$vuetify.lang.t("$vuetify.pages.licenses.table.header.6"),width:"10%"}],e.loading={table:!1},e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=this;_e.setItems([{title:this.$vuetify.lang.t("$vuetify.pages.licenses.action.add"),icon:"mdi-clipboard-plus-outline",action:function(){e.$router.push(an)}}]),this.$router.afterEach((function(t){t.name===rn.name&&e.loadData((e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"beforeDestroy",value:function(){_e.clean()}},{key:"loadData",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.table=!0,e.next=4,ta.loadLicenses({offset:t,limit:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.loading.table=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"clickOnRow",value:function(e){this.$router.push(Object(s["a"])(Object(s["a"])({},nn),{},{params:{id:e.id.toString()}}))}},{key:"clickOutsideSubpage",value:function(){this.$refs.subpage.cancel()}},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData((e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"promisePayment",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=confirm(this.$vuetify.lang.t("$vuetify.pages.licenses.action.give_promise_payment",t.id)),!a){e.next=7;break}return e.next=5,j.getInstance().promisePayment(t.id);case 5:return e.next=7,this.loadData((this.tableOptions.page-1)*this.tableOptions.itemsPerPage,this.tableOptions.itemsPerPage);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tableItems",get:function(){return ta.licenses}},{key:"totalItems",get:function(){return ta.totalLicenses}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=rn.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(v["d"]);aa=Object(f["a"])([Object(v["a"])({components:{DataTable:ye,CodeComponent:$t}})],aa);var na=aa,ra=na,ia=Object(I["a"])(ra,Xt,Zt,!1,null,null,null),la=ia.exports;P()(ia,{VBtn:T["a"],VContainer:W["a"],VDialog:Se["a"]});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.create_license.label.creating")))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{ref:"focusedField",attrs:{tabindex:"1",items:e.instances,disabled:e.form.instance.readonly||e.instances.length<=0,loading:e.instances.length<=0,rules:e.form.instance.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.0")},model:{value:e.form.instance.value,callback:function(t){e.$set(e.form.instance,"value",t)},expression:"form.instance.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"2",items:e.plans,disabled:e.form.plan.readonly||e.plans.length<=0,loading:e.plans.length<=0,rules:e.form.plan.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.1")},model:{value:e.form.plan.value,callback:function(t){e.$set(e.form.plan,"value",t)},expression:"form.plan.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("DatePicker",{attrs:{tabindex:"3",rules:e.form.start_at.rules,parser:function(e){return new Date(e).toLocaleDateString()},label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.2")},model:{value:e.startAtLocaleDate,callback:function(t){e.startAtLocaleDate=t},expression:"startAtLocaleDate"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"4",items:e.durations,disabled:e.form.duration.readonly||e.durations.length<=0,loading:e.durations.length<=0,rules:e.form.duration.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.3")},model:{value:e.form.duration.value,callback:function(t){e.$set(e.form.duration,"value",t)},expression:"form.duration.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-calendar",rules:e.form.expired_at.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.4"),placeholder:e.$vuetify.lang.t("$vuetify.pages.create_license.form.placeholder.4"),disabled:""},model:{value:e.expiredAtLocaleDate,callback:function(t){e.expiredAtLocaleDate=t},expression:"expiredAtLocaleDate"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{tabindex:"6",text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{tabindex:"5",color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.create")))])],1)],1)},oa=[],ua=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._durations=[],e}return Object(u["a"])(a,[{key:"loadDurations",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.getInstance().durations();case 2:return t=e.sent,e.abrupt("return",{_durations:t.data.durations});case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"durations",get:function(){return this._durations}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_durations"],rawError:!0})],ua.prototype,"loadDurations",null),ua=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"DurationsStore"})],ua);var ca=Object(g["e"])(ua),da=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={instance:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.instance.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},plan:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.plan.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},start_at:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.start_at.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},duration:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.duration.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},expired_at:{initial:"",value:"",readonly:!0,rules:[]}},e.loading={submit:!1},e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ca.loadDurations(),Me.loadPlans({limit:-1,offset:0}),e.next=4,ke.loadInstances({search:"",isDeleted:!1,limit:-1,offset:0});case 4:this.setFocusOnFirstField();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().createLicense({license:{instance_id:this.form.instance.value,plan_id:this.form.plan.value,effective_date:this.form.start_at.value,valid_until:this.form.expired_at.value}});case 4:this.$router.replace(rn),e.next=15;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.exception)||void 0===n?void 0:n.message,e.next="Уже существует активная лицензия на указанные даты"===e.t1?12:14;break;case 12:return alert(this.$vuetify.lang.t("$vuetify.pages.create_license.error.already_exist")),e.abrupt("break",15);case 14:alert((null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i||null===(l=i.exception)||void 0===l?void 0:l.message)||e.t0.message);case 15:return e.prev=15,this.loading.submit=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,7,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(rn):this.$router.replace(rn)}},{key:"onDurationChanged",value:function(e){try{if(this.form.start_at.rules.map((function(e){return Ue(e)})).every((function(e){return e}))){var t=new Date(this.form.start_at.value);t.setDate(t.getDate()+Number(e)),this.form.expired_at.value=t.toISOString().substr(0,10)}}catch(a){this.form.expired_at.value=""}}},{key:"onStartAtChanged",value:function(e){try{if(this.form.duration.rules.map((function(e){return Ue(e)})).every((function(e){return e}))){var t=new Date(e);t.setDate(t.getDate()+Number(this.form.duration.value)),this.form.expired_at.value=t.toISOString().substr(0,10)}}catch(a){this.form.expired_at.value=""}}},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"instances",get:function(){return ke.instances.map((function(e){return{value:e.id,readonly:!1,text:e.name}}))}},{key:"plans",get:function(){return Me.plans.map((function(e){return{value:e.id,readonly:!1,text:e.title}}))}},{key:"durations",get:function(){return ca.durations.map((function(e){return{value:e,readonly:!1,text:e}}))}},{key:"startAtLocaleDate",set:function(e){this.form.start_at.value=e},get:function(){return""!==this.form.start_at.value?new Date(this.form.start_at.value).toLocaleDateString():this.form.start_at.value}},{key:"expiredAtLocaleDate",set:function(e){this.form.expired_at.value=e},get:function(){return""!==this.form.expired_at.value?new Date(this.form.expired_at.value).toLocaleDateString():this.form.expired_at.value}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))}}]),a}(Object(v["b"])(at));Object(f["a"])([Object(v["e"])("form.duration.value")],da.prototype,"onDurationChanged",null),Object(f["a"])([Object(v["e"])("form.start_at.value")],da.prototype,"onStartAtChanged",null),da=Object(f["a"])([Object(v["a"])({components:{DatePicker:Ze}})],da);var fa=da,va=fa,ma=a("c6a6"),pa=Object(I["a"])(va,sa,oa,!1,null,null,null),ba=pa.exports;P()(pa,{VAutocomplete:ma["a"],VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSpacer:F["a"],VTextField:N["a"]});var ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.license.title")))]),e.loading.card?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{ref:"focusedField",attrs:{tabindex:"1",items:e.instances,disabled:e.form.instance.readonly||e.instances.length<=0,loading:e.instances.length<=0,rules:e.form.instance.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.0")},model:{value:e.form.instance.value,callback:function(t){e.$set(e.form.instance,"value",t)},expression:"form.instance.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"2",items:e.plans,disabled:e.form.plan.readonly||e.plans.length<=0,loading:e.plans.length<=0,rules:e.form.plan.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.1")},model:{value:e.form.plan.value,callback:function(t){e.$set(e.form.plan,"value",t)},expression:"form.plan.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("DatePicker",{attrs:{tabindex:"3",init:e.form.start_at.value,rules:e.form.start_at.rules,parser:function(e){return new Date(e).toLocaleDateString()},label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.2")},model:{value:e.startAtLocaleDate,callback:function(t){e.startAtLocaleDate=t},expression:"startAtLocaleDate"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"4",items:e.durations,disabled:e.form.duration.readonly||e.durations.length<=0,loading:e.durations.length<=0,rules:e.form.duration.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.3")},model:{value:e.form.duration.value,callback:function(t){e.$set(e.form.duration,"value",t)},expression:"form.duration.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-calendar",rules:e.form.expired_at.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_license.form.label.4"),placeholder:e.$vuetify.lang.t("$vuetify.pages.create_license.form.placeholder.4"),disabled:""},model:{value:e.expiredAtLocaleDate,callback:function(t){e.expiredAtLocaleDate=t},expression:"expiredAtLocaleDate"}})],1)],1)],1),e.loading.card?e._e():a("v-card-actions",[a("v-btn",{attrs:{tabindex:"6",text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{tabindex:"5",color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.edit")))])],1)],1)},ya=[],ga=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={instance:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.instance.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},plan:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.plan.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},start_at:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.start_at.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},duration:{initial:-1,value:-1,readonly:!1,rules:[function(){return e.form.duration.value>-1||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},expired_at:{initial:"",value:"",readonly:!0,rules:[]}},e.loading={card:!1,submit:!1},e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,ca.loadDurations(),Me.loadPlans({limit:-1,offset:0}),ke.loadInstances({search:"",isDeleted:!1,limit:-1,offset:0}),e.next=7,j.getInstance().getLicense(Number(this.$route.params.id));case 7:t=e.sent,this.license=t.data,this.form.instance.value=t.data.license.instance_id,this.form.instance.initial=this.form.instance.value,this.form.plan.value=t.data.license.plan_id,this.form.plan.initial=this.form.plan.value,this.form.start_at.value=t.data.license.effective_date,this.form.start_at.initial=this.form.start_at.value,this.form.duration.value=Math.round(Math.abs((new Date(t.data.license.valid_until).getTime()-new Date(t.data.license.effective_date).getTime())/864e5)),this.form.duration.initial=this.form.duration.value,e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](0);case 21:return e.prev=21,this.loading.card=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[0,19,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(rn):this.$router.replace(rn)}},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updateLicense({id:this.license.license.id,license:{instance_id:this.form.instance.value,plan_id:this.form.plan.value,effective_date:this.form.start_at.value,valid_until:this.form.expired_at.value}});case 4:this.$router.replace(rn),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDurationChanged",value:function(e){try{if(this.form.start_at.rules.map((function(e){return Ue(e)})).every((function(e){return e}))){var t=new Date(this.form.start_at.value);t.setDate(t.getDate()+Number(e)),this.form.expired_at.value=t.toISOString().substr(0,10)}}catch(a){this.form.expired_at.value=""}}},{key:"onStartAtChanged",value:function(e){try{if(this.form.duration.rules.map((function(e){return Ue(e)})).every((function(e){return e}))){var t=new Date(e);t.setDate(t.getDate()+Number(this.form.duration.value)),this.form.expired_at.value=t.toISOString().substr(0,10)}}catch(a){this.form.expired_at.value=""}}},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"startAtLocaleDate",set:function(e){this.form.start_at.value=e},get:function(){return""!==this.form.start_at.value?new Date(this.form.start_at.value).toLocaleDateString():this.form.start_at.value}},{key:"expiredAtLocaleDate",set:function(e){this.form.expired_at.value=e},get:function(){return""!==this.form.expired_at.value?new Date(this.form.expired_at.value).toLocaleDateString():this.form.expired_at.value}},{key:"isValueUpdated",get:function(){return this.isEdited}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))&&this.isValueUpdated}},{key:"instances",get:function(){return ke.instances.map((function(e){return{value:e.id,readonly:!1,text:e.name}}))}},{key:"plans",get:function(){return Me.plans.map((function(e){return{value:e.id,readonly:!1,text:e.title}}))}},{key:"durations",get:function(){return ca.durations.map((function(e){return{value:e,readonly:!1,text:e}}))}}]),a}(v["d"]);Object(f["a"])([Object(v["e"])("form.duration.value")],ga.prototype,"onDurationChanged",null),Object(f["a"])([Object(v["e"])("form.start_at.value")],ga.prototype,"onStartAtChanged",null),ga=Object(f["a"])([Object(v["a"])({components:{DatePicker:Ze}})],ga);var _a=ga,$a=_a,ka=Object(I["a"])($a,ha,ya,!1,null,null,null),xa=ka.exports;P()(ka,{VAutocomplete:ma["a"],VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSkeletonLoader:Tt["a"],VSpacer:F["a"],VTextField:N["a"]});var Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.create_plan.label.creating")))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{ref:"focusedField",attrs:{tabindex:"1",disabled:e.form.title.readonly,rules:e.form.title.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.0")},model:{value:e.form.title.value,callback:function(t){e.$set(e.form.title,"value",t)},expression:"form.title.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"2",disabled:e.form.code.readonly,rules:e.form.code.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.1")},model:{value:e.form.code.value,callback:function(t){e.$set(e.form.code,"value",t)},expression:"form.code.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"3",disabled:e.form.employees_limit.readonly,type:"number",rules:e.form.employees_limit.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.2")},model:{value:e.form.employees_limit.value,callback:function(t){e.$set(e.form.employees_limit,"value",t)},expression:"form.employees_limit.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"4",disabled:e.form.monthly_fee.readonly,type:"number",rules:e.form.monthly_fee.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.3")},model:{value:e.form.monthly_fee.value,callback:function(t){e.$set(e.form.monthly_fee,"value",t)},expression:"form.monthly_fee.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"5",items:e.currencies,disabled:e.form.currency.readonly||e.currencies.length<=0,loading:e.currencies.length<=0,rules:e.form.currency.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.4")},model:{value:e.form.currency.value,callback:function(t){e.$set(e.form.currency,"value",t)},expression:"form.currency.value"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{tabindex:"7",text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{tabindex:"6",color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.create")))])],1)],1)},ja=[],wa=a("2909"),Sa=(a("4ec9"),a("4fad"),a("3ca3"),a("ddb0"),function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._currencies=new Map,e}return Object(u["a"])(a,[{key:"loadCurrencies",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.getInstance().currencies();case 2:return t=e.sent,e.abrupt("return",{_currencies:Object.entries(t.data.currencies)});case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currencies",get:function(){return this._currencies}}]),a}(g["d"]));Object(f["a"])([Object(g["c"])({mutate:["_currencies"],rawError:!0})],Sa.prototype,"loadCurrencies",null),Sa=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"CurrenciesStore"})],Sa);var Ca=Object(g["e"])(Sa),Da=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={title:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.title.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},code:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.code.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},employees_limit:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.employees_limit.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},monthly_fee:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.monthly_fee.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},currency:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.currency.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]}},e.loading={submit:!1},e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ca.loadCurrencies(),this.setFocusOnFirstField();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(un):this.$router.replace(un)}},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().createPlan({plan:{title:this.form.title.value,code:this.form.code.value,currency:this.form.currency.value,employees_limit:this.form.employees_limit.value,monthly_fee:this.form.monthly_fee.value}});case 4:this.$router.replace(un),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"currencies",get:function(){var e=this;return Object(wa["a"])(Ca.currencies).map((function(t){return{value:t[0],readonly:!1,text:e.$vuetify.lang.t("$vuetify.common.label.currency.".concat(t[0]))}}))}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))}}]),a}(Object(et["Mixins"])(at));Da=Object(f["a"])([v["a"]],Da);var Ea=Da,Va=Ea,Ia=Object(I["a"])(Va,Oa,ja,!1,null,null,null),Ra=Ia.exports;P()(Ia,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSpacer:F["a"],VTextField:N["a"]});var Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e.loading.card?e._e():a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.plan.title",e.title)))])]),e.loading.card?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{ref:"focusedField",attrs:{tabindex:"1",disabled:e.form.title.readonly,rules:e.form.title.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.0")},model:{value:e.form.title.value,callback:function(t){e.$set(e.form.title,"value",t)},expression:"form.title.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"2",disabled:e.form.code.readonly,rules:e.form.code.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.1")},model:{value:e.form.code.value,callback:function(t){e.$set(e.form.code,"value",t)},expression:"form.code.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"3",disabled:e.form.employees_limit.readonly,type:"number",rules:e.form.employees_limit.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.2")},model:{value:e.form.employees_limit.value,callback:function(t){e.$set(e.form.employees_limit,"value",t)},expression:"form.employees_limit.value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{tabindex:"4",disabled:e.form.monthly_fee.readonly,type:"number",rules:e.form.monthly_fee.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.3")},model:{value:e.form.monthly_fee.value,callback:function(t){e.$set(e.form.monthly_fee,"value",t)},expression:"form.monthly_fee.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{tabindex:"5",items:e.currencies,disabled:e.form.currency.readonly||e.currencies.length<=0,loading:e.currencies.length<=0,rules:e.form.currency.rules,label:e.$vuetify.lang.t("$vuetify.pages.create_plan.form.label.4")},model:{value:e.form.currency.value,callback:function(t){e.$set(e.form.currency,"value",t)},expression:"form.currency.value"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.action.edit")))])],1)],1)},Ta=[],Aa=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.form={title:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.title.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},code:{initial:"",value:"",readonly:!0,rules:[function(){return e.form.code.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]},employees_limit:{initial:0,value:0,readonly:!1,rules:[function(){return e.form.employees_limit.value>=0||e.$vuetify.lang.t("$vuetify.common.error.fee_must_more_or_eq_0")}]},monthly_fee:{initial:0,value:0,readonly:!1,rules:[function(){return e.form.monthly_fee.value>=0||e.$vuetify.lang.t("$vuetify.common.error.fee_must_more_or_eq_0")}]},currency:{initial:"",value:"",readonly:!1,rules:[function(){return e.form.currency.value.length>0||e.$vuetify.lang.t("$vuetify.common.error.required_field")}]}},e.loading={card:!1,submit:!1},e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,Ca.loadCurrencies(),e.next=5,j.getInstance().getPlan(Number(this.$route.params.id));case 5:t=e.sent,this.plan=t.data,this.form.title.value=t.data.plan.title,this.form.title.initial=this.form.title.value,this.form.code.value=t.data.plan.code,this.form.code.initial=this.form.code.value,this.form.employees_limit.value=t.data.plan.employees_limit,this.form.employees_limit.initial=this.form.employees_limit.value,this.form.monthly_fee.value=t.data.plan.monthly_fee,this.form.monthly_fee.initial=this.form.monthly_fee.value,this.form.currency.value=t.data.plan.currency,this.form.currency.initial=this.form.currency.value,e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](0);case 21:return e.prev=21,this.loading.card=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[0,19,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"submit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updatePlan({id:this.plan.plan.id,plan:{title:this.form.title.value,code:this.form.code.value,employees_limit:this.form.employees_limit.value,monthly_fee:this.form.monthly_fee.value,currency:this.form.currency.value}});case 4:this.$router.replace(un),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.isEdited?confirm(this.$vuetify.lang.t("$vuetify.common.label.confirm_close_dialog"))&&this.$router.replace(un):this.$router.replace(un)}},{key:"currencies",get:function(){var e=this;return Object(wa["a"])(Ca.currencies).map((function(t){return{value:t[0],readonly:!1,text:e.$vuetify.lang.t("$vuetify.common.label.currency.".concat(t[0]))}}))}},{key:"title",get:function(){return this.plan.plan.title}},{key:"isEdited",get:function(){var e=this;return Object.keys(this.form).some((function(t){return!e.form[t].readonly&&e.form[t].value!==e.form[t].initial}))}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Ue(e)})).every((function(e){return e}))&&this.isEdited}}]),a}(v["d"]);Aa=Object(f["a"])([v["a"]],Aa);var La=Aa,qa=La,Fa=Object(I["a"])(qa,Pa,Ta,!1,null,null,null),Na=Fa.exports;P()(Fa,{VBtn:T["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VCol:H["a"],VRow:J["a"],VSelect:Ee["a"],VSkeletonLoader:Tt["a"],VSpacer:F["a"],VTextField:N["a"]});var Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,loading:e.loading.table},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer",on:{click:function(t){return e.clickOnRow(n)}}},[a("td",{staticClass:"text-end user-select-none"},[a("span",{attrs:{title:n.id}},[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[n.transaction_no?a("span",{attrs:{title:n.transaction_no}},[e._v(e._s(n.transaction_no))]):a("span",[e._v("—")])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.to_pay_on.toDateString()}},[e._v(e._s(n.to_pay_on.toLocaleDateString()))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",{attrs:{title:n.created_at.toDateString()}},[e._v(e._s(n.created_at.toLocaleDateString()))])]),a("td",{staticClass:"text-start user-select-none"},[n.customer.legal_title?a("span",{attrs:{title:n.customer.legal_title}},[e._v(e._s(n.customer.legal_title))]):a("span",[e._v("—")])]),a("td",{staticClass:"text-start user-select-none"},[n.customer.inn?a("span",{attrs:{title:n.customer.inn}},[e._v(e._s(n.customer.inn))]):a("span",[e._v("—")])]),a("td",{staticClass:"text-start user-select-none"},[n.customer.kpp?a("span",{attrs:{title:n.customer.kpp}},[e._v(e._s(n.customer.kpp))]):a("span",[e._v("—")])]),a("td",{staticClass:"text-start user-select-none"},[a("CodeComponent",{attrs:{title:n.plan.title}},[e._v(e._s(n.plan.code))])],1)])]}}])}),a("v-dialog",{attrs:{scrollable:"","max-width":"1100px",persistent:""},on:{"click:outside":e.clickOutsideSubpage,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickOutsideSubpage(t)}},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path,ref:"subpage"})],1)],1)},Ba=[],Ua=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e._bills=[],e._totalBills=0,e}return Object(u["a"])(a,[{key:"loadBills",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.offset,n=t.limit,e.next=3,j.getInstance().bills(a,n);case 3:return r=e.sent,e.abrupt("return",{_totalBills:r.data.count,_bills:r.data.bills.map((function(e){return{id:e.id,transaction_no:e.transaction_no,to_pay_on:new Date(e.to_pay_on),created_at:new Date(e.created_at),status:e.status,customer:{legal_title:e.legal_title,inn:e.inn,kpp:e.kpp},plan:{id:e.license.plan.id,title:e.license.plan.title,code:e.license.plan.code,employees_limit:e.license.plan.employees_limit,monthly_fee_text:e.license.plan.monthly_fee_text,status:e.license.plan.is_deleted<1}}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bills",get:function(){return this._bills}},{key:"totalBills",get:function(){return this._totalBills}}]),a}(g["d"]);Object(f["a"])([Object(g["c"])({mutate:["_bills","_totalBills"],rawError:!0})],Ua.prototype,"loadBills",null),Ua=Object(f["a"])([Object(g["a"])({dynamic:!0,store:$,name:"BillsStore"})],Ua);var Ya=Object(g["e"])(Ua),Ma=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"end",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.0"),width:"6%"},{value:"transaction_no",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.1"),width:"22%"},{value:"to_pay_on",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.2"),width:"15%"},{value:"created_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.3"),width:"15%"},{value:"legal_title",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.4"),width:"15%"},{value:"inn",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.5"),width:"15%"},{value:"kpp",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.6"),width:"15%"},{value:"plan_id",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.bills.table.header.7"),width:"15%"}],e.loading={table:!1},e}return Object(u["a"])(a,[{key:"mounted",value:function(){var e=this;this.$router.afterEach((function(t){t.name===ln.name&&e.loadData((e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"loadData",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.table=!0,e.next=4,Ya.loadBills({offset:t,limit:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.loading.table=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData((e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"clickOnRow",value:function(e){return null}},{key:"clickOutsideSubpage",value:function(){this.$refs.subpage.cancel()}},{key:"tableItems",get:function(){return Ya.bills}},{key:"totalItems",get:function(){return Ya.totalBills}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=ln.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(v["d"]);Ma=Object(f["a"])([Object(v["a"])({components:{DataTable:ye,CodeComponent:$t}})],Ma);var Ha=Ma,Wa=Ha,Ja=Object(I["a"])(Wa,Ka,Ba,!1,null,null,null),Ga=Ja.exports;P()(Ja,{VContainer:W["a"],VDialog:Se["a"]}),n["a"].use(m["a"]);var za={name:"login",path:"/login",component:z},Qa={name:"instance",path:":id",component:Lt},Xa={name:"create_instance",path:"create",component:st},Za={name:"instances",path:"/instances",component:Ie,children:[Xa,Qa]},en={name:"user",path:":id",component:Yt},tn={name:"users",path:"/users",component:Dt,children:[en]},an={name:"create_license",path:"create",component:ba},nn={name:"license",path:":id",component:xa},rn={name:"licenses",path:"/licenses",component:la,children:[nn,an]},ln={name:"bills",path:"/bills",component:Ga},sn={name:"plan",path:":id",component:Na},on={name:"create_plan",path:"create",component:Ra},un={name:"plans",path:"/plans",component:Qt,children:[sn,on]},cn={name:"404",path:"*",component:ft},dn=new m["a"]({mode:"history",base:"/timeflow-orchestrator-console/",routes:[za,Za,tn,rn,ln,un,cn]});dn.beforeEach((function(e,t,a){return"/"===e.path?a({name:Za.name}):a()}));var fn=dn,vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",{staticClass:"user-select-none"},[a("v-list-item-avatar",[a("span",{staticClass:"accent lighten-3 d-inline-flex justify-center align-center font-weight-medium",staticStyle:{width:"100%",height:"100%"}},[e._v(" "+e._s(e.initials)+" ")])]),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.profile?e.profile.full_name:"—"))]),a("v-list-item-subtitle",{staticClass:"mt-1"},[e._v(e._s(e.profile?e.$vuetify.lang.t("$vuetify.timeflow.roles."+e.profile.role):"—"))])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",color:"accent",title:e.$vuetify.lang.t("$vuetify.common.action.logout")},on:{click:e.logout}},[a("v-icon",[e._v("mdi-logout-variant")])],1)],1)],1)],1)},mn=[],pn=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"logout",value:function(){S.logout()}},{key:"initials",get:function(){var e;return null===(e=S.profile)||void 0===e?void 0:e.full_name.substr(0,2).toUpperCase()}},{key:"profile",get:function(){return S.profile}}]),a}(v["d"]);pn=Object(f["a"])([v["a"]],pn);var bn=pn,hn=bn,yn=a("da13"),gn=a("1800"),_n=a("8270"),$n=a("5d23"),kn=Object(I["a"])(hn,vn,mn,!1,null,null,null),xn=kn.exports;P()(kn,{VBtn:T["a"],VIcon:De["a"],VListItem:yn["a"],VListItemAction:gn["a"],VListItemAvatar:_n["a"],VListItemContent:$n["a"],VListItemSubtitle:$n["b"],VListItemTitle:$n["c"]});var On=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.isNavigationDrawerShow=!1,e.menu=[Object(s["a"])(Object(s["a"])({},Za),{},{icon:"mdi-database"}),Object(s["a"])(Object(s["a"])({},tn),{},{icon:"mdi-account-multiple"}),Object(s["a"])(Object(s["a"])({},rn),{},{icon:"mdi-clipboard-text-outline"}),Object(s["a"])(Object(s["a"])({},ln),{},{icon:"mdi-file-document-edit-outline"}),Object(s["a"])(Object(s["a"])({},un),{},{icon:"mdi-text-box-outline"})],e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.load();case 3:S.isAuth||this.$route.name===za.name||this.$router.replace({name:za.name}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$router.replace({name:za.name});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.title=this.$vuetify.lang.t("$vuetify.head.title.".concat(this.$route.name)),this.$router.beforeEach((function(e,a,n){document.title=t.$vuetify.lang.t("$vuetify.head.title.".concat(e.name)),n()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onLoginStateChanged",value:function(e){e||(this.isNavigationDrawerShow=!1,this.$router.replace({name:za.name}))}},{key:"isAppbarProgress",get:function(){return!1}},{key:"hasShowUi",get:function(){switch(this.$route.name){case za.name:case cn.name:return!1;default:return!0}}},{key:"appbarMenu",get:function(){return _e.items}},{key:"isAppbarMenuShow",get:function(){return _e.isShow}},{key:"isAuth",get:function(){return S.isAuth}}]),a}(v["d"]);Object(f["a"])([Object(v["e"])("isAuth")],On.prototype,"onLoginStateChanged",null),On=Object(f["a"])([Object(v["a"])({components:{NavigationDrawerUserCard:xn}})],On);var jn=On,wn=jn,Sn=(a("6b97"),a("7496")),Cn=a("40dc"),Dn=a("5bc1"),En=a("553a"),Vn=a("8860"),In=a("34c3"),Rn=a("f6c4"),Pn=a("f774"),Tn=a("2a7f"),An=Object(I["a"])(wn,r,i,!1,null,null,null),Ln=An.exports;P()(An,{VApp:Sn["a"],VAppBar:Cn["a"],VAppBarNavIcon:Dn["a"],VBtn:T["a"],VDivider:Ce["a"],VFooter:En["a"],VIcon:De["a"],VList:Vn["a"],VListItem:yn["a"],VListItemContent:$n["a"],VListItemIcon:In["a"],VListItemTitle:$n["c"],VMain:Rn["a"],VNavigationDrawer:Pn["a"],VSpacer:F["a"],VToolbarTitle:Tn["a"]});a("5363");var qn=a("f309"),Fn=a("fcf4"),Nn=a("7704"),Kn=a("0879"),Bn=a("4b41");n["a"].use(qn["a"]);var Un=new qn["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#2358a3",secondary:"#ed2527",accent:Fn["a"].deepPurple.lighten2,error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",toolbar_border:Fn["a"].grey.lighten2,inactive:Fn["a"].grey.lighten4,enabled:Fn["a"].green.lighten1,disabled:Fn["a"].red.lighten2}}},lang:{locales:{ru:Object(s["a"])(Object(s["a"])({},Nn),Kn["a"]),en:Object(s["a"])({},Bn["a"])},current:"ru"}});n["a"].config.productionTip=!1,new n["a"]({router:fn,store:$,vuetify:Un,render:function(e){return e(Ln)}}).$mount("#app")},d610:function(e,t,a){},ffa9:function(e,t,a){"use strict";a("6d66")}});
//# sourceMappingURL=app.2baf93e8.js.map