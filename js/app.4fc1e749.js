(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/timeflow-orchestrator-console/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"3ed1":function(e,t,a){},"62a1":function(e,t,a){e.exports=a.p+"img/timeflow.0fd2a3a1.svg"},"6b97":function(e,t,a){"use strict";a("c4b2")},"6d66":function(e,t,a){},7704:function(e){e.exports=JSON.parse('{"head":{"title":{"404":"Оркестратор Timeflow","instances":"Инстансы • Оркестратор Timeflow","users":"Пользователи • Оркестратор Timeflow","licenses":"Лицензии • Оркестратор Timeflow","bills":"Счета • Оркестратор Timeflow","plans":"Планы • Оркестратор Timeflow"}},"common":{"owner":"ORBL","roles":{"orchestrator":"Оркестратор"},"labels":{"page_not_found":"Страница не найдена"},"table":{"list_empty":"Список пуст","items_per_page":"Элементов на странице","loading":"Получение списка элементов..","all":"Все","page":"Страница {0} из {1} (всего строк: {2})","search_input":"Поиск по вхождениям"},"actions":{"add":"Добавить","input_query":"Введите поисковой запрос","clear_filter":"Сбросить фильтры","return":"Вернуться"}},"login":{"title":"Авторизация","login":"Введите логин","password":"Введите пароль","actions":{"auth":"Войти"},"errors":{"email_format_invalid":"Неверный формат email","empty_field":"Поле не может быть пустым","no_spaces":"Поле не может содержать пробельные символы"}},"navigation":{"menu":{"instances":"Инстансы","users":"Пользователи","licenses":"Лицензии","bills":"Счета","plans":"Планы"},"actions":{"logout":"Выйти"}},"pages":{"instances":{"table":{"headers":{"0":"#","1":"Название","2":"Лимит сотрудников","3":"Cотрудников создано","4":"Дата создания","5":"Дата истечения лицензии","6":"Уведомления"},"need_update_lic":"Требуется повышение лицензии"},"actions":{"add":"Добавить инстанс"}},"users":{"table":{"headers":{"0":"#","1":"Имя","2":"Инстанс","3":"Роль","4":"Статус","5":"Действия"},"roles":{"root":"Владелец","admin":"Администратор","manager":"Менеджер","hr":"HR","analyst":"Аналитик","orchestrator":"Оркестратор"}},"filters":{"active":{"all":"Все","enabled":"Активные","disabled":"Неактивные"}},"actions":{"enter_as":"Войти как {0}"}}}}')},a554:function(e,t,a){e.exports=a.p+"img/timeflow.a7954569.png"},c4b2:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("9483");Object(n["a"])("".concat("/timeflow-orchestrator-console/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("3ed1");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"fill-height"},[e.hasShowUi?a("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.isNavigationDrawerShow,callback:function(t){e.isNavigationDrawerShow=t},expression:"isNavigationDrawerShow"}},[a("NavigationDrawerUserCard"),a("v-divider"),a("v-list",e._l(e.menu,(function(t,n){return a("v-list-item",{key:n,attrs:{color:"primary lighten-1",to:t.name}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+t.name)))])],1)],1)})),1)],1):e._e(),e.hasShowUi?a("v-app-bar",{staticClass:"toolbar-border-bottom user-select-none",attrs:{app:"",color:"grey lighten-5",flat:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.isNavigationDrawerShow=!e.isNavigationDrawerShow}}}),a("v-toolbar-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+e.$route.name)))]),a("v-spacer"),e.isAppbarMenuShow?[1==e.appbarMenu.length?e._l(e.appbarMenu,(function(t,n){return a("v-btn",{key:n,attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!t.action,title:t.title},on:{click:t.action}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(t.title))]):a("v-icon",[e._v(e._s(t.icon))])],1)})):e.appbarMenu.length>1?[e._v(" ... ")]:e._e()]:e._e()],2):e._e(),a("v-main",{staticClass:"fill-height"},[a("router-view",{staticClass:"fill-height"})],1),e.hasShowUi?a("v-footer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{app:""}}):e._e()],1)},s=[],o=(a("b0c0"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),l=a("5530"),c=a("d4ec"),u=a("bee2"),p=a("262e"),f=a("2caf"),d=a("9ab4"),v=a("60a3"),m=a("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height user-select-none"},[n("v-row",{attrs:{justify:"center",align:"start","no-gutters":""}},[n("v-col",{attrs:{cols:"9",sm:"4",md:"3",lg:"2"}},[n("img",{attrs:{src:a("a554"),width:"100%"}})])],1),n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"7",lg:"6"}},[n("LoginForm")],1)],1),n("v-row",{attrs:{justify:"center","no-gutters":"",hidden:""}},[n("v-col")],1)],1)},b=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"full-width",nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isFormValid&&e.submit()}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-card",{staticClass:"rounded-lg",attrs:{width:"100%",color:"grey lighten-5"}},[a("v-card-title",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.login.title"))+" ")]),a("v-card-text",[a("v-text-field",{attrs:{color:"primary lighten-1",label:e.$vuetify.lang.t("$vuetify.login.login"),rules:e.loginRules},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),a("v-text-field",{staticClass:"mt-4",attrs:{color:"primary lighten-1",rules:e.passwordRules,label:e.$vuetify.lang.t("$vuetify.login.password"),type:e.isShowPass?"text":"password","append-icon":e.password.length>0?e.isShowPass?"mdi-eye-off":"mdi-eye":""},on:{"click:append":function(){return e.isShowPass=!e.isShowPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary lighten-1",disabled:!e.isFormValid,loading:e.loadingState},on:{click:e.submit}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.login.actions.auth"))+" ")])],1)],1)],1)},y=[],_=(a("4d63"),a("25f0"),a("466d"),a("6fc5")),O=a("2f62");r["a"].use(O["a"]);var w,j=new O["a"].Store({}),x=a("bc3a"),k=a.n(x),$=function(){function e(){Object(c["a"])(this,e),this.api=k.a.create({baseURL:"https://dev.voodoo.pub/wtt-orchestrator-backend"})}return Object(u["a"])(e,[{key:"signIn",value:function(e,t){return this.api.post("/app/account/sign-in",{email:e,password:t})}},{key:"instances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return this.api.post("/app/instances/list",{access_token:"yBfJU2SNZ7a0j9nOKL7k2gWXfiA-5uau",filters:{query:e},offset:t,limit:a})}},{key:"users",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return this.api.post("/app/users/list",{access_token:"yBfJU2SNZ7a0j9nOKL7k2gWXfiA-5uau",filters:{query:e,deleted:t},offset:a,limit:n})}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),C=w=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e._profile=null,e._token=null,e}return Object(u["a"])(a,[{key:"load",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem(w.PROFILE_KEY),a=localStorage.getItem(w.TOKEN_KEY),e.abrupt("return",{_profile:t?JSON.parse(t):null,_token:a?JSON.parse(a):null});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem(w.PROFILE_KEY),localStorage.removeItem(w.TOKEN_KEY),e.abrupt("return",{_profile:null,_token:null});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.login,n=t.password,e.next=3,$.getInstance().signIn(a,n);case 3:return r=e.sent,localStorage.setItem(w.TOKEN_KEY,JSON.stringify(r.data.user.access_token)),localStorage.setItem(w.PROFILE_KEY,JSON.stringify(r.data.user)),e.abrupt("return",{_profile:r.data.user,_token:r.data.user.access_token});case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isAuth",get:function(){return!!this._token}},{key:"token",get:function(){return this._token}},{key:"profile",get:function(){return this._profile}}]),a}(_["d"]);C.TOKEN_KEY="token",C.PROFILE_KEY="profile",Object(d["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],C.prototype,"load",null),Object(d["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],C.prototype,"logout",null),Object(d["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],C.prototype,"signIn",null),C=w=Object(d["a"])([Object(_["a"])({dynamic:!0,store:j,name:"AuthStore"})],C);var S=Object(_["e"])(C),I=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.login="",e.password="",e.isFormValid=!1,e.isShowPass=!1,e.loadingState=!1,e.loginRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.errors.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.errors.no_spaces")},function(t){return!!t.match(new RegExp("^\\S+@\\S+\\.\\S+"))||e.$vuetify.lang.t("$vuetify.login.errors.email_format_invalid")}],e.passwordRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.errors.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.errors.no_spaces")}],e}return Object(u["a"])(a,[{key:"submit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingState=!0,e.next=4,S.signIn({login:this.login,password:this.password});case 4:this.$router.replace({name:We.name}),e.next=15;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.exception)||void 0===n?void 0:n.message,e.next="Incorrect email or password passed"===e.t1?12:14;break;case 12:return alert("Неверный логин или пароль, повторите ввод"),e.abrupt("break",15);case 14:alert(e.t0.message);case 15:return e.prev=15,this.loadingState=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,7,15,18]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(v["c"]);I=Object(d["a"])([v["a"]],I);var V=I,F=V,D=a("2877"),E=a("6544"),R=a.n(E),L=a("8336"),P=a("b0af"),q=a("99d9"),A=a("4bd4"),U=a("2fa4"),N=a("8654"),T=Object(D["a"])(F,g,y,!1,null,null,null),K=T.exports;R()(T,{VBtn:L["a"],VCard:P["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VForm:A["a"],VSpacer:U["a"],VTextField:N["a"]});var B=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return a}(v["c"]);B=Object(d["a"])([Object(v["a"])({components:{LoginForm:K}})],B);var M=B,J=M,Y=a("62ad"),H=a("a523"),W=a("0fd9"),X=Object(D["a"])(J,h,b,!1,null,null,null),Z=X.exports;R()(X,{VCol:Y["a"],VContainer:H["a"],VRow:W["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.filters.query,loading:e.tableLoading},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer"},[a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.limit))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.count))])]),a("td",{staticClass:"text-start user-select-none"},[a("v-chip",{attrs:{color:"grey lighten-4"}},[e._v(e._s(n.created_at))])],1),a("td",{staticClass:"text-start user-select-none"},[a("v-chip",{attrs:{color:"grey lighten-4"}},[e._v(e._s(n.expires_at))])],1),a("td",{staticClass:"text-center user-select-none"},[n.state?a("v-chip",{attrs:{color:"error lighten-1"}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.instances.table.need_update_lic")))]):a("span",[e._v("—")])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.search_input")},model:{value:e.filters.query,callback:function(t){e.$set(e.filters,"query",t)},expression:"filters.query"}}),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2)],1)},G=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticClass:"ma-0 pa-0 search-view",style:{"max-width":e.maxWidth},attrs:{"background-color":"grey lighten-4","prepend-inner-icon":"mdi-magnify",placeholder:e.placeholder,disabled:e.disabled,solo:"",flat:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})},ee=[],te=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"search",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(v["c"]);Object(d["a"])([Object(v["b"])({required:!1})],te.prototype,"value",void 0),Object(d["a"])([Object(v["b"])({required:!1})],te.prototype,"placeholder",void 0),Object(d["a"])([Object(v["b"])({default:!1})],te.prototype,"disabled",void 0),Object(d["a"])([Object(v["b"])({default:"350px"})],te.prototype,"maxWidth",void 0),te=Object(d["a"])([v["a"]],te);var ae=te,ne=ae,re=(a("ffa9"),Object(D["a"])(ne,Q,ee,!1,null,null,null)),ie=re.exports;R()(re,{VTextField:N["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center overflow-x-auto overflow-y-hidden",staticStyle:{"min-height":"48px"}},[e._t("default")],2)},oe=[],le={},ce=Object(D["a"])(le,se,oe,!1,null,null,null),ue=ce.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",e._b({staticClass:"flex column fill-height",attrs:{height:"100%","fixed-header":"",options:e.options,"mobile-breakpoint":0,"items-per-page":20,"no-data-text":e.$vuetify.lang.t("$vuetify.common.table.list_empty"),"loading-text":e.$vuetify.lang.t("$vuetify.common.table.loading"),"footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"v-data-table",e.$props,!1))},fe=[],de=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.options={},e}return Object(u["a"])(a,[{key:"onOptionsChanged",value:function(e){this.$emit("options",e)}}]),a}(v["c"]);Object(d["a"])([Object(v["b"])({required:!0})],de.prototype,"headers",void 0),Object(d["a"])([Object(v["b"])({required:!0})],de.prototype,"items",void 0),Object(d["a"])([Object(v["b"])({required:!0})],de.prototype,"loading",void 0),Object(d["a"])([Object(v["b"])({required:!0})],de.prototype,"serverItemsLength",void 0),Object(d["a"])([Object(v["b"])({required:!0})],de.prototype,"search",void 0),Object(d["a"])([Object(v["d"])("options",{deep:!0})],de.prototype,"onOptionsChanged",null),de=Object(d["a"])([v["a"]],de);var ve=de,me=ve,he=a("8fea"),be=Object(D["a"])(me,pe,fe,!1,null,null,null),ge=be.exports;R()(be,{VDataTable:he["a"]});var ye=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e._items=[],e}return Object(u["a"])(a,[{key:"setItems",value:function(e){this._items=e}},{key:"clean",value:function(){this._items=[]}},{key:"isShow",get:function(){return this.items.length>0}},{key:"items",get:function(){return this._items}}]),a}(_["d"]);Object(d["a"])([_["b"]],ye.prototype,"setItems",null),Object(d["a"])([_["b"]],ye.prototype,"clean",null),ye=Object(d["a"])([Object(_["a"])({dynamic:!0,store:j,name:"AppbarMenuStore"})],ye);var _e=Object(_["e"])(ye),Oe=(a("d81d"),a("841c"),function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e._instances=[],e._totalInstances=0,e}return Object(u["a"])(a,[{key:"loadInstances",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,n=t.offset,r=t.limit,e.next=3,$.getInstance().instances(a,n,r);case 3:return i=e.sent,e.abrupt("return",{_totalInstances:i.data.count,_instances:i.data.instances.map((function(e){var t=new Date(e.created_at),a=new Date(e.created_at);return a.setDate(a.getDate()+e.stats.license.duration),{id:e.id,name:e.name,limit:e.stats.employees.licensed,count:e.stats.employees.active,created_at:t.toLocaleDateString(),expires_at:a.toLocaleDateString(),state:e.requires_upgrade}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"instances",get:function(){return this._instances}},{key:"totalInstances",get:function(){return this._totalInstances}}]),a}(_["d"]));Object(d["a"])([Object(_["c"])({mutate:["_instances","_totalInstances"],rawError:!0})],Oe.prototype,"loadInstances",null),Oe=Object(d["a"])([Object(_["a"])({dynamic:!0,store:j,name:"InstancesPageStore"})],Oe);var we=Object(_["e"])(Oe),je=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.1"),width:"22%"},{value:"limit",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.2"),width:"15%"},{value:"count",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.3"),width:"15%"},{value:"created_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.4"),width:"15%"},{value:"expires_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.5"),width:"18%"},{value:"state",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.6"),width:"13%"}],e.tableLoading=!1,e.filters={query:""},e}return Object(u["a"])(a,[{key:"mounted",value:function(){_e.setItems([{title:this.$vuetify.lang.t("$vuetify.pages.instances.actions.add"),icon:"mdi-database-plus",action:function(){throw new Error("Not implemented")}}])}},{key:"beforeDestroy",value:function(){_e.clean()}},{key:"clearFitlers",value:function(){this.filters.query=""}},{key:"onOptionsChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableOptions=t,this.tableLoading=!0,e.next=5,we.loadInstances({search:this.filters.query,offset:(t.page-1)*t.itemsPerPage,limit:t.itemsPerPage});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:return e.prev=10,this.tableLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onFiltersChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableLoading=!0,e.next=4,we.loadInstances({search:t.query,offset:0,limit:this.tableOptions.itemsPerPage});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.tableLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tableItems",get:function(){return we.instances}},{key:"totalItems",get:function(){return we.totalInstances}},{key:"isFilteresDefault",get:function(){return""!==this.filters.query}}]),a}(v["c"]);Object(d["a"])([Object(v["d"])("filters",{deep:!0})],je.prototype,"onFiltersChanged",null),je=Object(d["a"])([Object(v["a"])({components:{SearchField:ie,FiltersContainer:ue,DataTable:ge}})],je);var xe=je,ke=xe,$e=a("cc20"),Ce=a("ce7e"),Se=a("132d"),Ie=Object(D["a"])(ke,z,G,!1,null,null,null),Ve=Ie.exports;R()(Ie,{VBtn:L["a"],VChip:$e["a"],VContainer:H["a"],VDivider:Ce["a"],VIcon:Se["a"],VSpacer:U["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-space-around"},[e._m(0),a("div",{staticClass:"flex-grow-0 d-flex flex-column text-center"},[a("span",{staticClass:"text-h3 text-sm-h1 font-weight-light"},[e._v("404")]),a("span",{staticClass:"text-body-1 mt-2"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.labels.page_not_found")))])]),a("div",{staticClass:"flex-grow-0"},[a("v-btn",{attrs:{color:"primary",to:"/"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-arrow-left")]),a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.return")))])],1)],1)])},De=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-grow-0"},[n("img",{attrs:{src:a("62a1"),width:"250px"}})])}],Ee={},Re=Object(D["a"])(Ee,Fe,De,!1,null,null,null),Le=Re.exports;R()(Re,{VBtn:L["a"],VIcon:Se["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.filters.query,loading:e.tableLoading},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("tr",{staticClass:"cursor-pointer"},[a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(n.instance_name?n.instance_name:"—"))])]),a("td",{staticClass:"text-start user-select-none"},e._l(n.role.split(","),(function(t,n){return a("v-chip",{key:n,staticClass:"ma-1"},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.users.table.roles."+t))+" ")])})),1),a("td",{staticClass:"text-center user-select-none"},[a("v-simple-checkbox",{attrs:{disabled:""},model:{value:n.status,callback:function(t){e.$set(n,"status",t)},expression:"item.status"}})],1),a("td",{staticClass:"text-center user-select-none"},[a("v-btn",{attrs:{color:"primary",text:"",disabled:""}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.users.actions.enter_as",n.name)))])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{staticClass:"mr-4",attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.search_input")},model:{value:e.filters.query,callback:function(t){e.$set(e.filters,"query",t)},expression:"filters.query"}}),a("v-select",{attrs:{items:e.isDeletedSelect,"item-text":"title","item-value":"value",solo:"","hide-details":"",flat:"","prepend-inner-icon":"mdi-selection-multiple","background-color":"grey lighten-4"},model:{value:e.filters.isDeleted,callback:function(t){e.$set(e.filters,"isDeleted",t)},expression:"filters.isDeleted"}}),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2)],1)},qe=[],Ae=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e._users=[],e._totalUsers=0,e}return Object(u["a"])(a,[{key:"loadUsers",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,n=t.isDeleted,r=t.offset,i=t.limit,e.next=3,$.getInstance().users(a,n,r,i);case 3:return s=e.sent,e.abrupt("return",{_totalUsers:s.data.count,_users:s.data.users.map((function(e){var t;return{id:e.id,name:e.full_name,instance_name:null===(t=e.instance)||void 0===t?void 0:t.name,role:e.role,status:0===e.is_deleted}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"users",get:function(){return this._users}},{key:"totalUsers",get:function(){return this._totalUsers}}]),a}(_["d"]);Object(d["a"])([Object(_["c"])({mutate:["_users","_totalUsers"],rawError:!0})],Ae.prototype,"loadUsers",null),Ae=Object(d["a"])([Object(_["a"])({dynamic:!0,store:j,name:"UsersPageStore"})],Ae);var Ue=Object(_["e"])(Ae),Ne=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.1"),width:"25%"},{value:"instance",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.2"),width:"15%"},{value:"role",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.3"),width:"25%"},{value:"status",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.4"),width:"5%"},{value:"actions",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.5"),width:"18%"}],e.tableLoading=!1,e.isDeletedSelect=[{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.all"),value:null},{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.enabled"),value:!1},{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.disabled"),value:!0}],e.filters={query:"",isDeleted:!1},e}return Object(u["a"])(a,[{key:"clearFitlers",value:function(){this.filters.query="",this.filters.isDeleted=!1}},{key:"onFiltersChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableLoading=!0,e.next=4,Ue.loadUsers({search:t.query,isDeleted:t.isDeleted,offset:0,limit:this.tableOptions.itemsPerPage});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.tableLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onOptionsChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableOptions=t,this.tableLoading=!0,e.next=5,Ue.loadUsers({search:this.filters.query,isDeleted:this.filters.isDeleted,offset:(t.page-1)*t.itemsPerPage,limit:t.itemsPerPage});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:return e.prev=10,this.tableLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isFilteresDefault",get:function(){return""===this.filters.query&&!1===this.filters.isDeleted}},{key:"tableItems",get:function(){return Ue.users}},{key:"totalItems",get:function(){return Ue.totalUsers}}]),a}(v["c"]);Object(d["a"])([Object(v["d"])("filters",{deep:!0})],Ne.prototype,"onFiltersChanged",null),Ne=Object(d["a"])([Object(v["a"])({components:{SearchField:ie,FiltersContainer:ue,DataTable:ge}})],Ne);var Te=Ne,Ke=Te,Be=a("b974"),Me=a("9e88"),Je=Object(D["a"])(Ke,Pe,qe,!1,null,null,null),Ye=Je.exports;R()(Je,{VBtn:L["a"],VChip:$e["a"],VContainer:H["a"],VDivider:Ce["a"],VIcon:Se["a"],VSelect:Be["a"],VSimpleCheckbox:Me["a"],VSpacer:U["a"]}),r["a"].use(m["a"]);var He={name:"login",path:"/login",component:Z},We={name:"instances",path:"/instances",component:Ve},Xe={name:"users",path:"/users",component:Ye},Ze={name:"licenses",path:"/licenses"},ze={name:"bills",path:"/bills"},Ge={name:"plans",path:"/plans"},Qe={name:"404",path:"*",component:Le},et=new m["a"]({mode:"history",base:"/timeflow-orchestrator-console/",routes:[He,We,Xe,Ze,ze,Ge,Qe]});et.beforeEach((function(e,t,a){return"/"===e.path?a({name:We.name}):a()}));var tt=et,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.profile?e.profile.full_name:"—"))]),a("v-list-item-subtitle",{staticClass:"mt-1"},[e._v(e._s(e.profile?e.$vuetify.lang.t("$vuetify.common.roles."+e.profile.role):"—"))]),a("v-btn",{staticClass:"mt-4",attrs:{color:"accent",text:"",rounded:""},on:{click:e.logout}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.actions.logout")))])],1)],1)],1)},nt=[],rt=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"logout",value:function(){S.logout()}},{key:"profile",get:function(){return S.profile}}]),a}(v["c"]);rt=Object(d["a"])([v["a"]],rt);var it=rt,st=it,ot=a("da13"),lt=a("5d23"),ct=Object(D["a"])(st,at,nt,!1,null,null,null),ut=ct.exports;R()(ct,{VBtn:L["a"],VListItem:ot["a"],VListItemContent:lt["a"],VListItemSubtitle:lt["b"],VListItemTitle:lt["c"]});var pt=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.isNavigationDrawerShow=!1,e.menu=[Object(l["a"])(Object(l["a"])({},We),{},{icon:"mdi-database"}),Object(l["a"])(Object(l["a"])({},Xe),{},{icon:"mdi-account-multiple"}),Object(l["a"])(Object(l["a"])({},Ze),{},{icon:"mdi-clipboard-text-outline"}),Object(l["a"])(Object(l["a"])({},ze),{},{icon:"mdi-file-document-edit-outline"}),Object(l["a"])(Object(l["a"])({},Ge),{},{icon:"mdi-format-list-numbered"})],e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.load();case 3:S.isAuth||this.$route.name===He.name||this.$router.replace({name:He.name}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$router.replace({name:He.name});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.title=this.$vuetify.lang.t("$vuetify.head.title.".concat(this.$route.name)),this.$router.beforeEach((function(e,a,n){document.title=t.$vuetify.lang.t("$vuetify.head.title.".concat(e.name)),n()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onLoginStateChanged",value:function(e){e||(this.isNavigationDrawerShow=!1,this.$router.replace({name:He.name}))}},{key:"isAppbarProgress",get:function(){return!1}},{key:"hasShowUi",get:function(){switch(this.$route.name){case We.name:case Xe.name:case Ze.name:case ze.name:case Ge.name:return!0;default:return!1}}},{key:"appbarMenu",get:function(){return _e.items}},{key:"isAppbarMenuShow",get:function(){return _e.isShow}},{key:"isAuth",get:function(){return S.isAuth}}]),a}(v["c"]);Object(d["a"])([Object(v["d"])("isAuth")],pt.prototype,"onLoginStateChanged",null),pt=Object(d["a"])([Object(v["a"])({components:{NavigationDrawerUserCard:ut}})],pt);var ft=pt,dt=ft,vt=(a("6b97"),a("7496")),mt=a("40dc"),ht=a("5bc1"),bt=a("553a"),gt=a("8860"),yt=a("34c3"),_t=a("f6c4"),Ot=a("f774"),wt=a("2a7f"),jt=Object(D["a"])(dt,i,s,!1,null,null,null),xt=jt.exports;R()(jt,{VApp:vt["a"],VAppBar:mt["a"],VAppBarNavIcon:ht["a"],VBtn:L["a"],VDivider:Ce["a"],VFooter:bt["a"],VIcon:Se["a"],VList:gt["a"],VListItem:ot["a"],VListItemContent:lt["a"],VListItemIcon:yt["a"],VListItemTitle:lt["c"],VMain:_t["a"],VNavigationDrawer:Ot["a"],VSpacer:U["a"],VToolbarTitle:wt["a"]});a("5363");var kt=a("f309"),$t=a("fcf4"),Ct=a("7704"),St=a("0879"),It=a("4b41");r["a"].use(kt["a"]);var Vt=new kt["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#2358a3",secondary:"#ed2527",accent:$t["a"].deepPurple.lighten2,error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",toolbar_border:$t["a"].grey.lighten2}}},lang:{locales:{ru:Object(l["a"])(Object(l["a"])({},Ct),St["a"]),en:Object(l["a"])({},It["a"])},current:"ru"}});r["a"].config.productionTip=!1,new r["a"]({router:tt,store:j,vuetify:Vt,render:function(e){return e(xt)}}).$mount("#app")},ffa9:function(e,t,a){"use strict";a("6d66")}});
//# sourceMappingURL=app.4fc1e749.js.map