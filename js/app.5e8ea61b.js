(function(e){function t(t){for(var r,i,o=t[0],l=t[1],u=t[2],f=0,v=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&v.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/timeflow-orchestrator-console/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"3ed1":function(e,t,a){},"62a1":function(e,t,a){e.exports=a.p+"img/timeflow.0fd2a3a1.svg"},"6b97":function(e,t,a){"use strict";a("c4b2")},"6d66":function(e,t,a){},7704:function(e){e.exports=JSON.parse('{"head":{"title":{"404":"Оркестратор Timeflow","login":"Авторизация • Оркестратор Timeflow","instances":"Инстансы • Оркестратор Timeflow","instance":"Инстансы • Оркестратор Timeflow","add-instance":"Добавление инстанса • Оркестратор Timeflow","users":"Пользователи • Оркестратор Timeflow","user":"Пользователи • Оркестратор Timeflow","licenses":"Лицензии • Оркестратор Timeflow","bills":"Счета • Оркестратор Timeflow","plans":"Планы • Оркестратор Timeflow"}},"common":{"owner":"ORBL","roles":{"orchestrator":"Оркестратор"},"labels":{"page_not_found":"Страница не найдена"},"table":{"list_empty":"Список пуст","items_per_page":"Элементов на странице","loading":"Получение списка элементов..","all":"Все","page":"Страница {0} из {1} (всего строк: {2})","search_input":"Поиск по вхождениям"},"actions":{"add":"Добавить","input_query":"Введите поисковой запрос","clear_filter":"Сбросить фильтры","return":"Вернуться","ok":"OK","cancel":"Отмена","next":"Далее","back":"Назад","remove":"Удалить","save":"Сохранить","edit":"Изменить"},"errors":{"required_field":"Обязательное поле","no_spaces":"Поле не может содержать пробельные символы","email_format_invalid":"Неверный формат email"}},"login":{"title":"Авторизация","login":"Логин","password":"Пароль","actions":{"auth":"Войти"},"errors":{"email_format_invalid":"Неверный формат email","empty_field":"Поле не может быть пустым","no_spaces":"Поле не может содержать пробельные символы"}},"navigation":{"menu":{"instances":"Инстансы","instance":"Инстансы","add-instance":"Инстансы","users":"Пользователи","user":"Пользователи","licenses":"Лицензии","bills":"Счета","plans":"Планы"},"actions":{"logout":"Выйти"}},"pages":{"instances":{"table":{"headers":{"0":"#","1":"Название","2":"Лимит сотрудников","3":"Cотрудников создано","4":"Дата создания","5":"Дата истечения лицензии","6":"Уведомления"},"need_update_lic":"Требуется повышение лицензии"},"actions":{"add":"Добавить инстанс"}},"instance":{"title":"Профиль инстанса {0}","form":{"labels":{"0":"Название инстанса","1":"Хост базы данных (только для чтения)","2":"Название базы данных (только для чтения)","3":"Имя пользователя базы данных (только для чтения)","4":"Пароль пользователя базы данных (только для чтения)","5":"Ключ сервиса видеоидентификации","6":"Ключ сервиса геокодирования"}},"titles":{"confirm_remove":"Вы действительно хотите удалить инстанс {0}?"},"errors":{"400":"Ошибка получения информации об инстансе"}},"add_instance":{"titles":{"creating":"Создание инстанса"},"actions":{"create":"Создать"},"steps":{"0":"Название инстанса","1":"База данных","2":"Конфигурация","3":"Пользователь"},"form":{"labels":{"0":"Название инстанса","1":"Хост базы данных","2":"Название базы данных","3":"Имя пользователя базы данных","4":"Пароль пользователя базы данных","5":"План","6":"Дата окончания действия","7":"Ключ сервиса видеоидентификации","8":"Ключ сервиса геокодирования","9":"Имя пользователя - владельца инстанса","10":"Email пользователя - владельца инстанса","11":"Пароль пользователя - владельца инстанса"}},"errors":{"invalid_vi_key":"Указан неверный ключ к системе видеоидентификации"}},"users":{"table":{"headers":{"0":"#","1":"Имя","2":"Email","3":"Инстанс","4":"Роль","5":"Статус","6":"Действия"},"roles":{"root":"Владелец","admin":"Администратор","manager":"Менеджер","hr":"HR","analyst":"Аналитик","orchestrator":"Оркестратор"}},"filters":{"active":{"all":"Все","enabled":"Активные","disabled":"Неактивные"}},"actions":{"enter":"Войти","enter_as":"Войти как {0}"}},"user":{"title":"Профиль пользователя {0}","form":{"labels":{"0":"Имя пользователя","1":"Email пользователя","2":"Инстанс","3":"Роли"}},"roles":{"root":"Владелец","admin":"Администратор","manager":"Менеджер","hr":"HR","analyst":"Аналитик","orchestrator":"Оркестратор"},"errors":{"400":"Ошибка получения информации о пользователе"}}}}')},a554:function(e,t,a){e.exports=a.p+"img/timeflow.a7954569.png"},c4b2:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("9483");Object(r["a"])("".concat("/timeflow-orchestrator-console/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("3ed1");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"fill-height"},[e.hasShowUi?a("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.isNavigationDrawerShow,callback:function(t){e.isNavigationDrawerShow=t},expression:"isNavigationDrawerShow"}},[a("NavigationDrawerUserCard"),a("v-divider"),a("v-list",e._l(e.menu,(function(t,r){return a("v-list-item",{key:r,attrs:{color:"primary lighten-1",to:t.name}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+t.name)))])],1)],1)})),1)],1):e._e(),e.hasShowUi?a("v-app-bar",{staticClass:"toolbar-border-bottom user-select-none",attrs:{app:"",color:"grey lighten-5",flat:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.isNavigationDrawerShow=!e.isNavigationDrawerShow}}}),a("v-toolbar-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.menu."+e.$route.name)))]),a("v-spacer"),e.isAppbarMenuShow?[1==e.appbarMenu.length?e._l(e.appbarMenu,(function(t,r){return a("v-btn",{key:r,attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!t.action,title:t.title},on:{click:t.action}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(t.title))]):a("v-icon",[e._v(e._s(t.icon))])],1)})):e.appbarMenu.length>1?[e._v(" ... ")]:e._e()]:e._e()],2):e._e(),a("v-main",{staticClass:"fill-height"},[a("router-view",{staticClass:"fill-height"})],1),e.hasShowUi?a("v-footer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{app:""}}):e._e()],1)},i=[],o=(a("b0c0"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),l=a("5530"),u=a("d4ec"),c=a("bee2"),f=a("262e"),v=a("2caf"),m=a("9ab4"),d=a("60a3"),p=a("8c4f"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height user-select-none"},[r("v-row",{attrs:{justify:"center",align:"start","no-gutters":""}},[r("v-col",{attrs:{cols:"9",sm:"4",md:"3",lg:"2"}},[r("img",{attrs:{src:a("a554"),width:"100%"}})])],1),r("v-row",{attrs:{justify:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"7",lg:"6"}},[r("LoginForm")],1)],1),r("v-row",{attrs:{justify:"center","no-gutters":"",hidden:""}},[r("v-col")],1)],1)},g=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"full-width",nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isFormValid&&e.submit()}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-card",{staticClass:"rounded-lg",attrs:{width:"100%",color:"grey lighten-5"}},[a("v-card-title",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.login.title"))+" ")]),a("v-card-text",[a("v-text-field",{attrs:{color:"primary lighten-1",label:e.$vuetify.lang.t("$vuetify.login.login"),rules:e.loginRules},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),a("v-text-field",{staticClass:"mt-4",attrs:{color:"primary lighten-1",rules:e.passwordRules,label:e.$vuetify.lang.t("$vuetify.login.password"),type:e.isShowPass?"text":"password","append-icon":e.password.length>0?e.isShowPass?"mdi-eye-off":"mdi-eye":""},on:{"click:append":function(){return e.isShowPass=!e.isShowPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary lighten-1",disabled:!e.isFormValid,loading:e.loadingState},on:{click:e.submit}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.login.actions.auth"))+" ")])],1)],1)],1)},y=[],_=(a("4d63"),a("25f0"),a("466d"),a("6fc5")),$=a("2f62");n["a"].use($["a"]);var k=new $["a"].Store({}),x=a("bc3a"),O=a.n(x),j=function(){function e(){Object(u["a"])(this,e),this.api=O.a.create({baseURL:"https://dev.voodoo.pub/wtt-orchestrator-backend"})}return Object(c["a"])(e,[{key:"signIn",value:function(e,t){return this.api.post("/app/account/sign-in",{email:e,password:t})}},{key:"users",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return this.api.post("/app/users/list",{access_token:localStorage.getItem("token"),filters:{query:e,deleted:t},offset:a,limit:r})}},{key:"getUser",value:function(e){return this.api.post("/app/users/get",{access_token:localStorage.getItem("token"),id:e})}},{key:"updateUser",value:function(e){return this.api.post("/app/users/update",Object(l["a"])({access_token:localStorage.getItem("token")},e))}},{key:"plans",value:function(){return this.api.post("/app/plans/list",{access_token:localStorage.getItem("token")})}},{key:"instances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return this.api.post("/app/instances/list",{access_token:localStorage.getItem("token"),filters:{query:e},offset:t,limit:a})}},{key:"addInstance",value:function(e){return this.api.post("/app/instances/create",Object(l["a"])({access_token:localStorage.getItem("token")},e))}},{key:"updateInstance",value:function(e){return this.api.post("/app/instances/update",Object(l["a"])({access_token:localStorage.getItem("token")},e))}},{key:"removeInstance",value:function(e){return this.api.post("/app/instances/delete",{access_token:localStorage.getItem("token"),id:e})}},{key:"getInstance",value:function(e){return this.api.post("/app/instances/get",{access_token:localStorage.getItem("token"),id:e})}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),w=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e._profile=null,e._token=null,e}return Object(c["a"])(a,[{key:"load",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem("profile"),a=localStorage.getItem("token"),e.abrupt("return",{_profile:t?JSON.parse(t):null,_token:a});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem("profile"),localStorage.removeItem("token"),e.abrupt("return",{_profile:null,_token:null});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.login,r=t.password,e.next=3,j.getInstance().signIn(a,r);case 3:return n=e.sent,localStorage.setItem("token",n.data.user.access_token),localStorage.setItem("profile",JSON.stringify(n.data.user)),e.abrupt("return",{_profile:n.data.user,_token:n.data.user.access_token});case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isAuth",get:function(){return!!this._token}},{key:"token",get:function(){return this._token}},{key:"profile",get:function(){return this._profile}}]),a}(_["d"]);Object(m["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"load",null),Object(m["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"logout",null),Object(m["a"])([Object(_["c"])({mutate:["_profile","_token"],rawError:!0})],w.prototype,"signIn",null),w=Object(m["a"])([Object(_["a"])({dynamic:!0,store:k,name:"AuthStore"})],w);var S=Object(_["e"])(w),C=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.login="",e.password="",e.isFormValid=!1,e.isShowPass=!1,e.loadingState=!1,e.loginRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.errors.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.errors.no_spaces")},function(t){return!!t.match(new RegExp("^\\S+@\\S+\\.\\S+"))||e.$vuetify.lang.t("$vuetify.login.errors.email_format_invalid")}],e.passwordRules=[function(t){return t.length>0||e.$vuetify.lang.t("$vuetify.login.errors.empty_field")},function(t){return!t.match(/\s/)||e.$vuetify.lang.t("$vuetify.login.errors.no_spaces")}],e}return Object(c["a"])(a,[{key:"submit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingState=!0,e.next=4,S.signIn({login:this.login,password:this.password});case 4:this.$router.replace({name:Ft.name}),e.next=15;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(r=a.exception)||void 0===r?void 0:r.message,e.next="Incorrect email or password passed"===e.t1?12:14;break;case 12:return alert("Неверный логин или пароль, повторите ввод"),e.abrupt("break",15);case 14:alert(e.t0.message);case 15:return e.prev=15,this.loadingState=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,7,15,18]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(d["c"]);C=Object(m["a"])([d["a"]],C);var V=C,I=V,D=a("2877"),R=a("6544"),P=a.n(R),q=a("8336"),E=a("b0af"),F=a("99d9"),T=a("4bd4"),A=a("2fa4"),U=a("8654"),L=Object(D["a"])(I,h,y,!1,null,null,null),B=L.exports;P()(L,{VBtn:q["a"],VCard:E["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VForm:T["a"],VSpacer:A["a"],VTextField:U["a"]});var N=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return a}(d["c"]);N=Object(m["a"])([Object(d["a"])({components:{LoginForm:B}})],N);var M=N,H=M,J=a("62ad"),W=a("a523"),K=a("0fd9"),z=Object(D["a"])(H,b,g,!1,null,null,null),G=z.exports;P()(z,{VCol:J["a"],VContainer:W["a"],VRow:K["a"]});var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.filters.query,loading:e.tableLoading},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("tr",{staticClass:"cursor-pointer",on:{click:function(t){return e.clickOnRow(r)}}},[a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.limit))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.count))])]),a("td",{staticClass:"text-start user-select-none"},[a("v-chip",{attrs:{color:"grey lighten-4"}},[e._v(e._s(r.created_at))])],1),a("td",{staticClass:"text-start user-select-none"},[a("v-chip",{attrs:{color:"grey lighten-4"}},[e._v(e._s(r.expires_at))])],1),a("td",{staticClass:"text-center user-select-none"},[r.state?a("v-chip",{attrs:{color:"error lighten-1"}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.instances.table.need_update_lic")))]):a("span",[e._v("—")])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.search_input")},model:{value:e.filters.query,callback:function(t){e.$set(e.filters,"query",t)},expression:"filters.query"}}),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:!e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1100px"},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path})],1)],1)},X=[],Y=(a("45fc"),a("d3b7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticClass:"ma-0 pa-0 search-view",style:{"max-width":e.maxWidth},attrs:{"background-color":"grey lighten-4","prepend-inner-icon":"mdi-magnify",placeholder:e.placeholder,disabled:e.disabled,solo:"",flat:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})}),Z=[],ee=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return Object(c["a"])(a,[{key:"search",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(d["c"]);Object(m["a"])([Object(d["b"])({required:!1})],ee.prototype,"value",void 0),Object(m["a"])([Object(d["b"])({required:!1})],ee.prototype,"placeholder",void 0),Object(m["a"])([Object(d["b"])({default:!1})],ee.prototype,"disabled",void 0),Object(m["a"])([Object(d["b"])({default:"350px"})],ee.prototype,"maxWidth",void 0),ee=Object(m["a"])([d["a"]],ee);var te=ee,ae=te,re=(a("ffa9"),Object(D["a"])(ae,Y,Z,!1,null,null,null)),ne=re.exports;P()(re,{VTextField:U["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center overflow-x-auto overflow-y-hidden",staticStyle:{"min-height":"48px"}},[e._t("default")],2)},ie=[],oe={},le=Object(D["a"])(oe,se,ie,!1,null,null,null),ue=le.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",e._b({staticClass:"flex column fill-height",attrs:{height:"100%","fixed-header":"",page:e.page,options:e.options,"mobile-breakpoint":0,"items-per-page":20,"no-data-text":e.$vuetify.lang.t("$vuetify.common.table.list_empty"),"loading-text":e.$vuetify.lang.t("$vuetify.common.table.loading"),"footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:page":function(t){e.page=t},"update:options":function(t){e.options=t}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"v-data-table",e.$props,!1))},fe=[],ve=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.options={},e.page=1,e}return Object(c["a"])(a,[{key:"onOptionsChanged",value:function(e){this.$emit("options",e)}},{key:"setPage",value:function(e){this.page=e,this.$emit("options",this.options)}}]),a}(d["c"]);Object(m["a"])([Object(d["b"])({required:!0})],ve.prototype,"headers",void 0),Object(m["a"])([Object(d["b"])({required:!0})],ve.prototype,"items",void 0),Object(m["a"])([Object(d["b"])({required:!0})],ve.prototype,"loading",void 0),Object(m["a"])([Object(d["b"])({required:!0})],ve.prototype,"serverItemsLength",void 0),Object(m["a"])([Object(d["b"])({required:!0})],ve.prototype,"search",void 0),Object(m["a"])([Object(d["d"])("options",{deep:!0})],ve.prototype,"onOptionsChanged",null),ve=Object(m["a"])([d["a"]],ve);var me=ve,de=me,pe=a("8fea"),be=Object(D["a"])(de,ce,fe,!1,null,null,null),ge=be.exports;P()(be,{VDataTable:pe["a"]});var he=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e._items=[],e}return Object(c["a"])(a,[{key:"setItems",value:function(e){this._items=e}},{key:"clean",value:function(){this._items=[]}},{key:"isShow",get:function(){return this.items.length>0}},{key:"items",get:function(){return this._items}}]),a}(_["d"]);Object(m["a"])([_["b"]],he.prototype,"setItems",null),Object(m["a"])([_["b"]],he.prototype,"clean",null),he=Object(m["a"])([Object(_["a"])({dynamic:!0,store:k,name:"AppbarMenuStore"})],he);var ye=Object(_["e"])(he),_e=(a("d81d"),a("841c"),function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e._instances=[],e._totalInstances=0,e}return Object(c["a"])(a,[{key:"loadInstances",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,r=t.offset,n=t.limit,e.next=3,j.getInstance().instances(a,r,n);case 3:return s=e.sent,e.abrupt("return",{_totalInstances:s.data.count,_instances:s.data.instances.map((function(e){var t=new Date(e.created_at),a=new Date(e.created_at);return a.setDate(a.getDate()+e.stats.license.duration),{id:e.id,name:e.name,limit:e.stats.employees.licensed,count:e.stats.employees.active,created_at:t.toLocaleDateString(),expires_at:a.toLocaleDateString(),state:e.requires_upgrade,db:{db_host:e.db_host,db_name:e.db_name,db_user:e.db_username,db_pass:e.db_password},vi_key:e.vi_api_key,geo_key:e.dadata_api_key}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"instances",get:function(){return this._instances}},{key:"totalInstances",get:function(){return this._totalInstances}}]),a}(_["d"]));Object(m["a"])([Object(_["c"])({mutate:["_instances","_totalInstances"],rawError:!0})],_e.prototype,"loadInstances",null),_e=Object(m["a"])([Object(_["a"])({dynamic:!0,store:k,name:"InstancesPageStore"})],_e);var $e=Object(_["e"])(_e),ke=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.1"),width:"22%"},{value:"limit",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.2"),width:"15%"},{value:"count",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.3"),width:"15%"},{value:"created_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.4"),width:"15%"},{value:"expires_at",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.5"),width:"18%"},{value:"state",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.instances.table.headers.6"),width:"13%"}],e.tableLoading=!1,e.filters={query:""},e}return Object(c["a"])(a,[{key:"clearFitlers",value:function(){this.filters.query=""}},{key:"onFiltersChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.table.setPage(1);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=this;ye.setItems([{title:this.$vuetify.lang.t("$vuetify.pages.instances.actions.add"),icon:"mdi-database-plus",action:function(){e.$router.push(Et)}}]),this.$router.afterEach((function(t){t.name===Ft.name&&e.loadData(e.filters.query,(e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"beforeDestroy",value:function(){ye.clean()}},{key:"loadData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableLoading=!0,e.next=4,$e.loadInstances({search:t,offset:a,limit:r});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.tableLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a,r){return e.apply(this,arguments)}return t}()},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData(this.filters.query,(e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"onSubpageClosed",value:function(){this.$router.replace(Ft)}},{key:"clickOnRow",value:function(e){this.$router.push(Object(l["a"])(Object(l["a"])({},qt),{},{params:{id:e.id.toString()}}))}},{key:"isFilteresDefault",get:function(){return""!==this.filters.query}},{key:"tableItems",get:function(){return $e.instances}},{key:"totalItems",get:function(){return $e.totalInstances}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=Ft.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(d["c"]);Object(m["a"])([Object(d["d"])("filters",{deep:!0})],ke.prototype,"onFiltersChanged",null),ke=Object(m["a"])([Object(d["a"])({components:{SearchField:ne,FiltersContainer:ue,DataTable:ge}})],ke);var xe=ke,Oe=xe,je=a("cc20"),we=a("169a"),Se=a("ce7e"),Ce=a("132d"),Ve=Object(D["a"])(Oe,Q,X,!1,null,null,null),Ie=Ve.exports;P()(Ve,{VBtn:q["a"],VChip:je["a"],VContainer:W["a"],VDialog:we["a"],VDivider:Se["a"],VIcon:Ce["a"],VSpacer:A["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.titles.creating")))]),a("v-card-text",[a("v-stepper",{attrs:{vertical:""},model:{value:e.stepper.step,callback:function(t){e.$set(e.stepper,"step",t)},expression:"stepper.step"}},[a("v-stepper-step",{attrs:{step:"1",complete:e.stepper.step>1,rules:e.stepRules(1)}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.steps.0"))+" ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{attrs:{disabled:1!=e.stepper.step}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.0")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1)],1)],1),a("div",[a("v-btn",{attrs:{color:"primary",disabled:!e.isStepButtonEnabled(1)},on:{click:function(t){e.stepper.step=2}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.next")))])],1)],1),a("v-stepper-step",{attrs:{step:"2",complete:e.stepper.step>2,rules:e.stepRules(2)}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.steps.1"))+" ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{attrs:{disabled:2!=e.stepper.step}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{rules:e.form.db_host.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.1")},model:{value:e.form.db_host.value,callback:function(t){e.$set(e.form.db_host,"value",t)},expression:"form.db_host.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{rules:e.form.db_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.2")},model:{value:e.form.db_name.value,callback:function(t){e.$set(e.form.db_name,"value",t)},expression:"form.db_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{rules:e.form.db_user.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.3")},model:{value:e.form.db_user.value,callback:function(t){e.$set(e.form.db_user,"value",t)},expression:"form.db_user.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("PasswordComponent",{attrs:{rules:e.form.db_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.4")},model:{value:e.form.db_pass.value,callback:function(t){e.$set(e.form.db_pass,"value",t)},expression:"form.db_pass.value"}})],1)],1)],1),a("div",[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",disabled:!e.isStepButtonEnabled(2)},on:{click:function(t){e.stepper.step=3}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.next")))]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.stepper.step=1}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.back")))])],1)],1),a("v-stepper-step",{attrs:{step:"3",complete:e.stepper.step>3,rules:e.stepRules(3)}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.steps.2"))+" ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-form",{attrs:{disabled:3!=e.stepper.step}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-select",{attrs:{"item-text":"title","item-value":"id",items:e.plans,loading:e.plans.length<=0,disabled:e.plans.length<=0,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.5")},model:{value:e.form.plan.value,callback:function(t){e.$set(e.form.plan,"value",t)},expression:"form.plan.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-dialog",{ref:"expiredDateDialog",attrs:{"return-value":e.form.expired_at,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.form,"expired_at",t)},"update:return-value":function(t){return e.$set(e.form,"expired_at",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{rules:e.form.expired_at.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.6"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.form.expired_at.value,callback:function(t){e.$set(e.form.expired_at,"value",t)},expression:"form.expired_at.value"}},"v-text-field",n,!1),r))]}}]),model:{value:e.expiredDatePickerDialog,callback:function(t){e.expiredDatePickerDialog=t},expression:"expiredDatePickerDialog"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.form.expired_at.value,callback:function(t){e.$set(e.form.expired_at,"value",t)},expression:"form.expired_at.value"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.expiredDatePickerDialog=!1}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.cancel")))]),a("v-btn",{attrs:{text:""},on:{click:e.commitSelectedExpiredAtDate}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.ok")))])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{rules:e.form.vi_key.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.7")},model:{value:e.form.vi_key.value,callback:function(t){e.$set(e.form.vi_key,"value",t)},expression:"form.vi_key.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"3"}},[a("v-text-field",{attrs:{rules:e.form.geo_key.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.8")},model:{value:e.form.geo_key.value,callback:function(t){e.$set(e.form.geo_key,"value",t)},expression:"form.geo_key.value"}})],1)],1)],1),a("div",[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",disabled:!e.isStepButtonEnabled(3)},on:{click:function(t){e.stepper.step=4}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.next")))]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.stepper.step=2}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.back")))])],1)],1),a("v-stepper-step",{attrs:{step:"4",complete:e.stepper.step>4,rules:e.stepRules(4)}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.steps.3"))+" ")]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-form",{attrs:{disabled:4!=e.stepper.step}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("v-text-field",{attrs:{rules:e.form.username.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.9")},model:{value:e.form.username.value,callback:function(t){e.$set(e.form.username,"value",t)},expression:"form.username.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("v-text-field",{attrs:{rules:e.form.user_email.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.10")},model:{value:e.form.user_email.value,callback:function(t){e.$set(e.form.user_email,"value",t)},expression:"form.user_email.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",xl:"4"}},[a("PasswordComponent",{attrs:{rules:e.form.user_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.add_instance.form.labels.11")},model:{value:e.form.user_pass.value,callback:function(t){e.$set(e.form.user_pass,"value",t)},expression:"form.user_pass.value"}})],1)],1)],1),a("div",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.stepper.step=3}}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.back")))])],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.add_instance.actions.create")))])],1)],1)},Re=[],Pe=(a("99af"),a("a623"),a("13d5"),a("b64b"),a("1276"),a("3835")),qe=a("2909"),Ee=(a("4de4"),function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e._plans=[],e}return Object(c["a"])(a,[{key:"loadPlans",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.getInstance().plans();case 2:return t=e.sent,e.abrupt("return",{_plans:t.data.plans.filter((function(e){return e.is_deleted<1})).map((function(e){return{id:e.id,title:e.title,code:e.code}}))});case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"plans",get:function(){return this._plans}}]),a}(_["d"]));Object(m["a"])([Object(_["c"])({mutate:["_plans"]})],Ee.prototype,"loadPlans",null),Ee=Object(m["a"])([Object(_["a"])({dynamic:!0,store:k,name:"PlansStore"})],Ee);var Fe=Object(_["e"])(Ee),Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{color:"primary lighten-1",disabled:e.disabled,readonly:e.readonly,rules:e.rules,label:e.label,type:e.isShowPass?"text":"password","append-icon":e.password.length>0?e.isShowPass?"mdi-eye-off":"mdi-eye":""},on:{"click:append":function(){return e.isShowPass=!e.isShowPass}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})},Ae=[],Ue=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.isShowPass=!1,e}return Object(c["a"])(a,[{key:"password",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(d["c"]);Object(m["a"])([Object(d["b"])({required:!1})],Ue.prototype,"value",void 0),Object(m["a"])([Object(d["b"])({required:!1})],Ue.prototype,"rules",void 0),Object(m["a"])([Object(d["b"])({default:!1})],Ue.prototype,"label",void 0),Object(m["a"])([Object(d["b"])({default:!1})],Ue.prototype,"disabled",void 0),Object(m["a"])([Object(d["b"])({default:!1})],Ue.prototype,"readonly",void 0),Object(m["a"])([Object(d["b"])({default:"350px"})],Ue.prototype,"maxWidth",void 0),Ue=Object(m["a"])([d["a"]],Ue);var Le=Ue,Be=Le,Ne=Object(D["a"])(Be,Te,Ae,!1,null,null,null),Me=Ne.exports;function He(e){var t=e();return"boolean"===typeof t&&t}function Je(e){var t=e();return function(){return"boolean"===typeof t&&t}}P()(Ne,{VTextField:U["a"]});var We=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.expiredDatePickerDialog=!1,e.loading=!1,e.stepper={step:1},e.form={instance_name:{value:"",rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.instance_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_host:{value:"",rules:[function(){return e.form.db_host.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_host.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_name:{value:"",rules:[function(){return e.form.db_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_user:{value:"",rules:[function(){return e.form.db_user.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_user.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_pass:{value:"",rules:[function(){return e.form.db_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},plan:{value:-1,rules:[function(){return e.form.plan.value>-1||e.$vuetify.lang.t("$vuetify.common.errors.required_field")}]},expired_at:{value:"",rules:[function(){return e.form.expired_at.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.expired_at.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},vi_key:{value:"",rules:[function(){return e.form.vi_key.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.vi_key.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},geo_key:{value:"",rules:[function(){return e.form.geo_key.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.geo_key.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},username:{value:"",rules:[function(){return e.form.username.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.username.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},user_email:{value:"",rules:[function(){return e.form.user_email.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.user_email.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")},function(){return!!e.form.user_email.value.match(new RegExp("^\\S+@\\S+\\.\\S+"))||e.$vuetify.lang.t("$vuetify.common.errors.email_format_invalid")}]},user_pass:{value:"",rules:[function(){return e.form.user_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.user_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]}},e}return Object(c["a"])(a,[{key:"mounted",value:function(){Fe.loadPlans()}},{key:"isStepButtonEnabled",value:function(e){switch(e){case 1:return this.form.instance_name.rules.every((function(e){return He(e)}));case 2:return this.form.db_host.rules.every((function(e){return He(e)}))&&this.form.db_name.rules.every((function(e){return He(e)}))&&this.form.db_user.rules.every((function(e){return He(e)}))&&this.form.db_pass.rules.every((function(e){return He(e)}));case 3:return this.form.plan.rules.every((function(e){return He(e)}))&&this.form.expired_at.rules.every((function(e){return He(e)}))&&this.form.vi_key.rules.every((function(e){return He(e)}))&&this.form.geo_key.rules.every((function(e){return He(e)}));case 4:return this.form.username.rules.every((function(e){return He(e)}))&&this.form.user_email.rules.every((function(e){return He(e)}))&&this.form.user_pass.rules.every((function(e){return He(e)}));default:return!1}}},{key:"stepRules",value:function(e){switch(e){case 1:return Object(qe["a"])(this.form.instance_name.rules).map((function(e){return Je(e)}));case 2:return[].concat(Object(qe["a"])(this.form.db_host.rules),Object(qe["a"])(this.form.db_name.rules),Object(qe["a"])(this.form.db_user.rules),Object(qe["a"])(this.form.db_pass.rules)).map((function(e){return Je(e)}));case 3:return[].concat(Object(qe["a"])(this.form.plan.rules),Object(qe["a"])(this.form.expired_at.rules),Object(qe["a"])(this.form.vi_key.rules),Object(qe["a"])(this.form.geo_key.rules)).map((function(e){return Je(e)}));case 4:return[].concat(Object(qe["a"])(this.form.username.rules),Object(qe["a"])(this.form.user_email.rules),Object(qe["a"])(this.form.user_pass.rules)).map((function(e){return Je(e)}));default:return[]}}},{key:"commitSelectedExpiredAtDate",value:function(){this.$refs.expiredDateDialog.save(this.form.expired_at)}},{key:"formatDate",value:function(e){if(!e)return null;var t=e.split("-"),a=Object(Pe["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,".").concat(n,".").concat(r)}},{key:"submit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.stepper.step=5,this.loading=!0,e.next=5,j.getInstance().addInstance({instance:{name:this.form.instance_name.value,db_host:this.form.db_host.value,db_name:this.form.db_name.value,db_password:this.form.db_pass.value,db_username:this.form.db_user.value,dadata_api_key:this.form.geo_key.value,vi_api_key:this.form.vi_key.value,licenses:{plan_id:this.form.plan.value,valid_until:this.form.expired_at.value}},user:{full_name:this.form.username.value,email:this.form.user_email.value,password:this.form.user_pass.value}});case 5:this.$router.replace(Ft),e.next=17;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t1=null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(r=a.exception)||void 0===r?void 0:r.message,e.next="Неверный ключ подключения к системе видеоидентификации"===e.t1?13:16;break;case 13:return alert(this.$vuetify.lang.t("$vuetify.pages.add_instance.errors.invalid_vi_key")),this.stepper.step=3,e.abrupt("break",17);case 16:alert((null===(n=e.t0.response)||void 0===n||null===(s=n.data)||void 0===s||null===(i=s.exception)||void 0===i?void 0:i.message)||e.t0.message);case 17:return e.prev=17,this.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[0,8,17,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.$router.replace(Ft)}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return He(e)})).every((function(e){return e}))}},{key:"plans",get:function(){return Fe.plans}}]),a}(d["c"]);We=Object(m["a"])([Object(d["a"])({components:{PasswordComponent:Me}})],We);var Ke=We,ze=Ke,Ge=a("2e4b"),Qe=a("b974"),Xe=a("7e85"),Ye=a("e516"),Ze=a("56a4"),et=Object(D["a"])(ze,De,Re,!1,null,null,null),tt=et.exports;P()(et,{VBtn:q["a"],VCard:E["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:J["a"],VDatePicker:Ge["a"],VDialog:we["a"],VForm:T["a"],VRow:K["a"],VSelect:Qe["a"],VSpacer:A["a"],VStepper:Xe["a"],VStepperContent:Ye["a"],VStepperStep:Ze["a"],VTextField:U["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-space-around"},[e._m(0),a("div",{staticClass:"flex-grow-0 d-flex flex-column text-center"},[a("span",{staticClass:"text-h3 text-sm-h1 font-weight-light"},[e._v("404")]),a("span",{staticClass:"text-body-1 mt-2"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.labels.page_not_found")))])]),a("div",{staticClass:"flex-grow-0"},[a("v-btn",{attrs:{color:"primary",to:"/"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-arrow-left")]),a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.return")))])],1)],1)])},rt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-grow-0"},[r("img",{attrs:{src:a("62a1"),width:"250px"}})])}],nt={},st=Object(D["a"])(nt,at,rt,!1,null,null,null),it=st.exports;P()(st,{VBtn:q["a"],VIcon:Ce["a"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("DataTable",{ref:"table",attrs:{headers:e.tableHeaders,items:e.tableItems,"server-items-length":e.totalItems,search:e.filters.query,loading:e.tableLoading},on:{options:e.onOptionsChanged},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("tr",{staticClass:"cursor-pointer",on:{click:function(t){return e.clickOnRow(r)}}},[a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.id))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.name))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.email))])]),a("td",{staticClass:"text-start user-select-none"},[a("span",[e._v(e._s(r.instance_name?r.instance_name:"—"))])]),a("td",{staticClass:"text-start user-select-none"},e._l(r.role.split(","),(function(t,r){return a("v-chip",{key:r,staticClass:"ma-1",attrs:{color:"grey lighten-4"}},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.users.table.roles."+t))+" ")])})),1),a("td",{staticClass:"text-center user-select-none"},[a("v-simple-checkbox",{attrs:{disabled:""},model:{value:r.status,callback:function(t){e.$set(r,"status",t)},expression:"item.status"}})],1),a("td",{staticClass:"text-center user-select-none"},[a("v-btn",{attrs:{color:"primary",text:"",disabled:""}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.pages.users.actions.enter")))])],1)])]}}])},[a("template",{slot:"top"},[a("FiltersContainer",{staticClass:"px-4"},[a("SearchField",{staticClass:"mr-4",attrs:{"max-width":"450px",placeholder:e.$vuetify.lang.t("$vuetify.common.table.search_input")},model:{value:e.filters.query,callback:function(t){e.$set(e.filters,"query",t)},expression:"filters.query"}}),a("v-select",{attrs:{items:e.isDeletedSelect,"item-text":"title","item-value":"value",solo:"","hide-details":"",flat:"","prepend-inner-icon":"mdi-selection-multiple","background-color":"grey lighten-4"},model:{value:e.filters.isDeleted,callback:function(t){e.$set(e.filters,"isDeleted",t)},expression:"filters.isDeleted"}}),a("v-spacer",{staticClass:"mx-2"}),a("v-btn",{attrs:{text:e.$vuetify.breakpoint.mdAndUp,icon:!e.$vuetify.breakpoint.mdAndUp,disabled:e.isFilteresDefault,title:e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")},on:{click:e.clearFitlers}},[e.$vuetify.breakpoint.mdAndUp?a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.clear_filter")))]):a("v-icon",[e._v("mdi-filter-remove-outline")])],1)],1),a("v-divider",{staticClass:"mt-3"})],1)],2),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1100px"},model:{value:e.isSubpage,callback:function(t){e.isSubpage=t},expression:"isSubpage"}},[a("router-view",{key:e.$route.path})],1)],1)},lt=[],ut=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e._users=[],e._totalUsers=0,e}return Object(c["a"])(a,[{key:"loadUsers",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.search,r=t.isDeleted,n=t.offset,s=t.limit,e.next=3,j.getInstance().users(a,r,n,s);case 3:return i=e.sent,e.abrupt("return",{_totalUsers:i.data.count,_users:i.data.users.map((function(e){var t;return{id:e.id,name:e.full_name,email:e.email,instance_name:null===(t=e.instance)||void 0===t?void 0:t.name,role:e.role,status:0===e.is_deleted}}))});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"users",get:function(){return this._users}},{key:"totalUsers",get:function(){return this._totalUsers}}]),a}(_["d"]);Object(m["a"])([Object(_["c"])({mutate:["_users","_totalUsers"],rawError:!0})],ut.prototype,"loadUsers",null),ut=Object(m["a"])([Object(_["a"])({dynamic:!0,store:k,name:"UsersPageStore"})],ut);var ct=Object(_["e"])(ut),ft=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{value:"id",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.0"),width:"6%"},{value:"name",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.1"),width:"25%"},{value:"email",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.2"),width:"25%"},{value:"instance",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.3"),width:"15%"},{value:"role",align:"start",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.4"),width:"25%"},{value:"status",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.5"),width:"5%"},{value:"actions",align:"center",sortable:!1,divider:!1,text:e.$vuetify.lang.t("$vuetify.pages.users.table.headers.6"),width:"18%"}],e.tableLoading=!1,e.isDeletedSelect=[{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.all"),value:null},{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.enabled"),value:!1},{title:e.$vuetify.lang.t("$vuetify.pages.users.filters.active.disabled"),value:!0}],e.filters={query:"",isDeleted:!1},e}return Object(c["a"])(a,[{key:"clearFitlers",value:function(){this.filters.query="",this.filters.isDeleted=!1}},{key:"onFiltersChanged",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.table.setPage(1);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=this;this.$router.afterEach((function(t){t.name===At.name&&e.loadData(e.filters.query,e.filters.isDeleted,(e.tableOptions.page-1)*e.tableOptions.itemsPerPage,e.tableOptions.itemsPerPage)}))}},{key:"onOptionsChanged",value:function(e){this.tableOptions=e,this.loadData(this.filters.query,this.filters.isDeleted,(e.page-1)*e.itemsPerPage,e.itemsPerPage)}},{key:"loadData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.tableLoading=!0,e.next=4,ct.loadUsers({search:t,isDeleted:a,offset:r,limit:n});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.tableLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t,a,r,n){return e.apply(this,arguments)}return t}()},{key:"onSubpageClosed",value:function(){this.$router.replace(At)}},{key:"clickOnRow",value:function(e){this.$router.push(Object(l["a"])(Object(l["a"])({},Tt),{},{params:{id:e.id.toString()}}))}},{key:"isFilteresDefault",get:function(){return""===this.filters.query&&!1===this.filters.isDeleted}},{key:"tableItems",get:function(){return ct.users}},{key:"totalItems",get:function(){return ct.totalUsers}},{key:"isSubpage",get:function(){var e,t=this;return null===(e=At.children)||void 0===e?void 0:e.some((function(e){return e.name===t.$route.name}))}}]),a}(d["c"]);Object(m["a"])([Object(d["d"])("filters",{deep:!0})],ft.prototype,"onFiltersChanged",null),ft=Object(m["a"])([Object(d["a"])({components:{SearchField:ne,FiltersContainer:ue,DataTable:ge}})],ft);var vt=ft,mt=vt,dt=a("9e88"),pt=Object(D["a"])(mt,ot,lt,!1,null,null,null),bt=pt.exports;P()(pt,{VBtn:q["a"],VChip:je["a"],VContainer:W["a"],VDialog:we["a"],VDivider:Se["a"],VIcon:Ce["a"],VSelect:Qe["a"],VSimpleCheckbox:dt["a"],VSpacer:A["a"]});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.loading.card?e._e():a("v-card-title",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.instance.title",e.title))+" ")]),e.loading.card?a("v-card-title",{staticClass:"justify-center"},[a("v-progress-circular",{attrs:{color:"primary",indeterminate:""}})],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.0")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1)],1),a("v-form",{attrs:{readonly:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.db_host.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.1")},model:{value:e.form.db_host.value,callback:function(t){e.$set(e.form.db_host,"value",t)},expression:"form.db_host.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.db_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.2")},model:{value:e.form.db_name.value,callback:function(t){e.$set(e.form.db_name,"value",t)},expression:"form.db_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.db_user.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.3")},model:{value:e.form.db_user.value,callback:function(t){e.$set(e.form.db_user,"value",t)},expression:"form.db_user.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("PasswordComponent",{attrs:{rules:e.form.db_pass.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.4")},model:{value:e.form.db_pass.value,callback:function(t){e.$set(e.form.db_pass,"value",t)},expression:"form.db_pass.value"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.vi_key.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.5")},model:{value:e.form.vi_key.value,callback:function(t){e.$set(e.form.vi_key,"value",t)},expression:"form.vi_key.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.geo_key.rules,label:e.$vuetify.lang.t("$vuetify.pages.instance.form.labels.6")},model:{value:e.form.geo_key.value,callback:function(t){e.$set(e.form.geo_key,"value",t)},expression:"form.geo_key.value"}})],1)],1)],1),e.loading.card?e._e():a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"error",text:"",loading:e.loading.remove},on:{click:e.remove}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.remove")))]),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.edit")))])],1)],1)},ht=[],yt=(a("a9e3"),function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.form={instance_name:{value:"",rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.instance_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_host:{value:"",rules:[function(){return e.form.db_host.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_host.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_name:{value:"",rules:[function(){return e.form.db_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_user:{value:"",rules:[function(){return e.form.db_user.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_user.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},db_pass:{value:"",rules:[function(){return e.form.db_pass.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.db_pass.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},vi_key:{value:"",rules:[function(){return e.form.vi_key.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.vi_key.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},geo_key:{value:"",rules:[function(){return e.form.geo_key.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.geo_key.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]}},e.loading={card:!1,submit:!1,remove:!1},e}return Object(c["a"])(a,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,e.next=4,j.getInstance().getInstance(Number(this.$route.params.id));case 4:t=e.sent,this.instance=t.data,this.form.instance_name.value=t.data.instance.name,this.form.db_host.value=t.data.instance.db_host,this.form.db_name.value=t.data.instance.db_name,this.form.db_user.value=t.data.instance.db_username,this.form.db_pass.value=t.data.instance.db_password,this.form.vi_key.value=t.data.instance.vi_api_key,this.form.geo_key.value=t.data.instance.dadata_api_key,e.next=18;break;case 15:if(e.prev=15,e.t0=e["catch"](0),e.t0.isAxiosError)switch(e.t0.response.status){case 400:alert(this.$vuetify.lang.t("$vuetify.pages.instance.errors.400")),this.$router.replace(Ft)}case 18:return e.prev=18,this.loading.card=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.$router.replace(Ft)}},{key:"submit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updateInstance({id:this.instance.instance.id,instance:{name:this.form.instance_name.value,vi_api_key:this.form.vi_key.value,dadata_api_key:this.form.geo_key.value}});case 4:this.$router.replace(Ft),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading.remove=!0,t=confirm(this.$vuetify.lang.t("$vuetify.pages.instance.titles.confirm_remove",this.title)),!t){e.next=7;break}return e.next=6,j.getInstance().removeInstance(this.instance.instance.id);case 6:this.$router.replace(Ft);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:return e.prev=11,this.loading.remove=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,9,11,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isValueUpdated",get:function(){return this.form.instance_name.value!==this.instance.instance.name||this.form.db_host.value!==this.instance.instance.db_host||this.form.db_name.value!==this.instance.instance.db_name||this.form.db_user.value!==this.instance.instance.db_username||this.form.db_pass.value!==this.instance.instance.db_password||this.form.vi_key.value!==this.instance.instance.vi_api_key||this.form.geo_key.value!==this.instance.instance.dadata_api_key}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return He(e)})).every((function(e){return e}))&&this.isValueUpdated}},{key:"title",get:function(){return this.instance.instance.name}}]),a}(d["c"]));yt=Object(m["a"])([Object(d["a"])({components:{PasswordComponent:Me}})],yt);var _t=yt,$t=_t,kt=a("490a"),xt=Object(D["a"])($t,gt,ht,!1,null,null,null),Ot=xt.exports;P()(xt,{VBtn:q["a"],VCard:E["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:J["a"],VForm:T["a"],VProgressCircular:kt["a"],VRow:K["a"],VSpacer:A["a"],VTextField:U["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.loading.card?e._e():a("v-card-title",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.pages.user.title",e.title))+" ")]),e.loading.card?a("v-card-title",{staticClass:"justify-center"},[a("v-progress-circular",{attrs:{color:"primary",indeterminate:""}})],1):e._e(),e.loading.card?e._e():a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.name.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.labels.0")},model:{value:e.form.name.value,callback:function(t){e.$set(e.form.name,"value",t)},expression:"form.name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.form.email.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.labels.1")},model:{value:e.form.email.value,callback:function(t){e.$set(e.form.email,"value",t)},expression:"form.email.value"}})],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{disabled:"",rules:e.form.instance_name.rules,label:e.$vuetify.lang.t("$vuetify.pages.user.form.labels.2")},model:{value:e.form.instance_name.value,callback:function(t){e.$set(e.form.instance_name,"value",t)},expression:"form.instance_name.value"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{"item-text":"label",items:e.roles,multiple:"",chips:"",label:e.$vuetify.lang.t("$vuetify.pages.user.form.labels.3")},model:{value:e.form.roles.value,callback:function(t){e.$set(e.form.roles,"value",t)},expression:"form.roles.value"}})],1)],1)],1),e.loading.card?e._e():a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.cancel")))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loading.submit,disabled:!e.isSubmitButtonEnabled},on:{click:e.submit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.common.actions.edit")))])],1)],1)},wt=[],St=(a("a15b"),["root","admin","manager","hr","analyst"]),Ct=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.form={name:{value:"",rules:[function(){return e.form.name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]},email:{value:"",rules:[function(){return e.form.email.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.email.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")},function(){return!!e.form.email.value.match(new RegExp("^\\S+@\\S+\\.\\S+"))||e.$vuetify.lang.t("$vuetify.common.errors.email_format_invalid")}]},roles:{value:[],rules:[function(){return e.form.roles.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")}]},instance_name:{value:"",rules:[function(){return e.form.instance_name.value.length>0||e.$vuetify.lang.t("$vuetify.common.errors.required_field")},function(){return!e.form.instance_name.value.match(/\s/)||e.$vuetify.lang.t("$vuetify.common.errors.no_spaces")}]}},e.loading={card:!1,submit:!1},e}return Object(c["a"])(a,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.card=!0,e.next=4,j.getInstance().getUser(Number(this.$route.params.id));case 4:t=e.sent,this.user=t.data,this.form.name.value=t.data.user.full_name,this.form.email.value=t.data.user.email,this.form.roles.value=t.data.user.role.split(","),this.form.instance_name.value=t.data.user.instance.name,e.next=15;break;case 12:if(e.prev=12,e.t0=e["catch"](0),e.t0.isAxiosError)switch(e.t0.response.status){case 400:alert(this.$vuetify.lang.t("$vuetify.pages.instance.errors.400")),this.$router.replace(At)}case 15:return e.prev=15,this.loading.card=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.$router.replace(At)}},{key:"submit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading.submit=!0,e.next=4,j.getInstance().updateUser({id:this.user.user.id,user:{full_name:this.form.name.value,email:this.form.email.value,role:this.form.roles.value.join(",")}});case 4:this.$router.replace(At),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loading.submit=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isValueUpdated",get:function(){var e=this;return this.form.name.value!==this.user.user.full_name||this.form.email.value!==this.user.user.email||this.form.roles.value.length!==this.user.user.role.split(",").length||this.form.roles.value.some((function(t,a){return t!==e.user.user.role.split(",")[a]}))||this.form.instance_name.value!==this.user.user.instance.name}},{key:"isSubmitButtonEnabled",get:function(){var e=this;return Object.keys(this.form).map((function(t){return e.form[t].rules})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return He(e)})).every((function(e){return e}))&&this.isValueUpdated}},{key:"roles",get:function(){var e=this;return St.map((function(t){return{value:t,label:e.$vuetify.lang.t("$vuetify.pages.user.roles.".concat(t))}}))}},{key:"title",get:function(){return this.user.user.full_name}}]),a}(d["c"]);Ct=Object(m["a"])([d["a"]],Ct);var Vt=Ct,It=Vt,Dt=Object(D["a"])(It,jt,wt,!1,null,null,null),Rt=Dt.exports;P()(Dt,{VBtn:q["a"],VCard:E["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:J["a"],VProgressCircular:kt["a"],VRow:K["a"],VSelect:Qe["a"],VSpacer:A["a"],VTextField:U["a"]}),n["a"].use(p["a"]);var Pt={name:"login",path:"/login",component:G},qt={name:"instance",path:":id",component:Ot},Et={name:"add-instance",path:"add",component:tt},Ft={name:"instances",path:"/instances",component:Ie,children:[Et,qt]},Tt={name:"user",path:":id",component:Rt},At={name:"users",path:"/users",component:bt,children:[Tt]},Ut={name:"licenses",path:"/licenses"},Lt={name:"bills",path:"/bills"},Bt={name:"plans",path:"/plans"},Nt={name:"404",path:"*",component:it},Mt=new p["a"]({mode:"history",base:"/timeflow-orchestrator-console/",routes:[Pt,Ft,At,Ut,Lt,Bt,Nt]});Mt.beforeEach((function(e,t,a){return"/"===e.path?a({name:Ft.name}):a()}));var Ht=Mt,Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.profile?e.profile.full_name:"—"))]),a("v-list-item-subtitle",{staticClass:"mt-1"},[e._v(e._s(e.profile?e.$vuetify.lang.t("$vuetify.common.roles."+e.profile.role):"—"))]),a("v-btn",{staticClass:"mt-4",attrs:{color:"accent",text:"",rounded:""},on:{click:e.logout}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.navigation.actions.logout")))])],1)],1)],1)},Wt=[],Kt=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(u["a"])(this,a),t.apply(this,arguments)}return Object(c["a"])(a,[{key:"logout",value:function(){S.logout()}},{key:"profile",get:function(){return S.profile}}]),a}(d["c"]);Kt=Object(m["a"])([d["a"]],Kt);var zt=Kt,Gt=zt,Qt=a("da13"),Xt=a("5d23"),Yt=Object(D["a"])(Gt,Jt,Wt,!1,null,null,null),Zt=Yt.exports;P()(Yt,{VBtn:q["a"],VListItem:Qt["a"],VListItemContent:Xt["a"],VListItemSubtitle:Xt["b"],VListItemTitle:Xt["c"]});var ea=function(e){Object(f["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.isNavigationDrawerShow=!1,e.menu=[Object(l["a"])(Object(l["a"])({},Ft),{},{icon:"mdi-database"}),Object(l["a"])(Object(l["a"])({},At),{},{icon:"mdi-account-multiple"}),Object(l["a"])(Object(l["a"])({},Ut),{},{icon:"mdi-clipboard-text-outline"}),Object(l["a"])(Object(l["a"])({},Lt),{},{icon:"mdi-file-document-edit-outline"}),Object(l["a"])(Object(l["a"])({},Bt),{},{icon:"mdi-format-list-numbered"})],e}return Object(c["a"])(a,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.load();case 3:S.isAuth||this.$route.name===Pt.name||this.$router.replace({name:Pt.name}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$router.replace({name:Pt.name});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.title=this.$vuetify.lang.t("$vuetify.head.title.".concat(this.$route.name)),this.$router.beforeEach((function(e,a,r){document.title=t.$vuetify.lang.t("$vuetify.head.title.".concat(e.name)),r()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onLoginStateChanged",value:function(e){e||(this.isNavigationDrawerShow=!1,this.$router.replace({name:Pt.name}))}},{key:"isAppbarProgress",get:function(){return!1}},{key:"hasShowUi",get:function(){switch(this.$route.name){case Pt.name:case Nt.name:return!1;default:return!0}}},{key:"appbarMenu",get:function(){return ye.items}},{key:"isAppbarMenuShow",get:function(){return ye.isShow}},{key:"isAuth",get:function(){return S.isAuth}}]),a}(d["c"]);Object(m["a"])([Object(d["d"])("isAuth")],ea.prototype,"onLoginStateChanged",null),ea=Object(m["a"])([Object(d["a"])({components:{NavigationDrawerUserCard:Zt}})],ea);var ta=ea,aa=ta,ra=(a("6b97"),a("7496")),na=a("40dc"),sa=a("5bc1"),ia=a("553a"),oa=a("8860"),la=a("34c3"),ua=a("f6c4"),ca=a("f774"),fa=a("2a7f"),va=Object(D["a"])(aa,s,i,!1,null,null,null),ma=va.exports;P()(va,{VApp:ra["a"],VAppBar:na["a"],VAppBarNavIcon:sa["a"],VBtn:q["a"],VDivider:Se["a"],VFooter:ia["a"],VIcon:Ce["a"],VList:oa["a"],VListItem:Qt["a"],VListItemContent:Xt["a"],VListItemIcon:la["a"],VListItemTitle:Xt["c"],VMain:ua["a"],VNavigationDrawer:ca["a"],VSpacer:A["a"],VToolbarTitle:fa["a"]});a("5363");var da=a("f309"),pa=a("fcf4"),ba=a("7704"),ga=a("0879"),ha=a("4b41");n["a"].use(da["a"]);var ya=new da["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#2358a3",secondary:"#ed2527",accent:pa["a"].deepPurple.lighten2,error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",toolbar_border:pa["a"].grey.lighten2}}},lang:{locales:{ru:Object(l["a"])(Object(l["a"])({},ba),ga["a"]),en:Object(l["a"])({},ha["a"])},current:"ru"}});n["a"].config.productionTip=!1,new n["a"]({router:Ht,store:k,vuetify:ya,render:function(e){return e(ma)}}).$mount("#app")},ffa9:function(e,t,a){"use strict";a("6d66")}});
//# sourceMappingURL=app.5e8ea61b.js.map